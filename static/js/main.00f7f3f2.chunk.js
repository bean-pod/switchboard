(this.webpackJsonpswitchboard_frontend=this.webpackJsonpswitchboard_frontend||[]).push([[0],{372:function(e,t,n){},453:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"default",(function(){return we}));var r={};n.r(r),n.d(r,"getAllStreams",(function(){return nt})),n.d(r,"getStream",(function(){return at})),n.d(r,"deleteStream",(function(){return rt}));var c={};n.r(c),n.d(c,"getSenders",(function(){return xt})),n.d(c,"getReceivers",(function(){return ft}));var i=n(64),s=n(4),l=n(0),o=n.n(l),d=n(20),u=n.n(d),j=(n(372),n(95)),h=n(33),b=n(15),O=n(17),v=n(19),m=n(18),p=n(308),x=n(475),f=n(309),g=n(238),S=n(476),C=n(477),y=n(478),w=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).classes=Object(p.a)((function(e){return{menuButton:{marginRight:e.spacing(2)}}})),a}return Object(O.a)(n,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"headerBar",children:Object(s.jsx)(x.a,{position:"static",children:Object(s.jsxs)(f.a,{className:"darkGrey",children:[Object(s.jsx)(g.a,{edge:"start",className:this.classes.menuButton,color:"inherit","aria-label":"menu",children:Object(s.jsx)(S.a,{})}),Object(s.jsx)("div",{className:"headerTitle",children:Object(s.jsx)(j.b,{to:"/",activeClassName:"headerTitle",className:"headerTitle",exact:!0,children:"Switchboard"})}),Object(s.jsx)(g.a,{id:"notifBtn",color:"inherit",children:Object(s.jsx)(C.a,{})}),Object(s.jsx)(g.a,{id:"acctBtn",color:"inherit",children:Object(s.jsx)(y.a,{})})]})})})})}}]),n}(o.a.Component),k=n(480),N=n(232),D=n(512),I=n(479),R=n(75),P=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props.breadcrumbs,t=0;return Object(s.jsx)(N.a,{padding:"2em 0em 0em 1em",children:Object(s.jsx)(D.a,{"aria-label":"breadcrumb",id:"breadcrumbParent",children:e.map((function(e){return Object(s.jsx)(I.a,{color:"inherit",href:e[1],id:"breadcrumb".concat(t),children:Object(s.jsx)(R.a,{color:"textPrimary",children:e[0]})},"breadcrumb".concat(t++))}))})})}}]),n}(o.a.Component),A=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return Object(s.jsx)(k.a,{children:Object(s.jsx)(P,{breadcrumbs:[["Home",""],["My Devices","Devices"],["Streaming","Streaming"]]})})}}]),n}(o.a.Component),T=n(5),E=n(310),F=n(481),B=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.id,n=e.type,a=Object(T.a)({root:{background:"linear-gradient(45deg, #59bc31 30%, #59bc31 90%)",borderRadius:90,border:0,color:"white",height:40,padding:"0 5px",margin:"1em"},label:{textTransform:""}})(E.a);return Object(s.jsx)(a,{id:t,type:n,children:Object(s.jsxs)("div",{className:"buttonText",children:[Object(s.jsx)(F.a,{}),"Stream"]})})}}]),n}(o.a.Component),G=n(482),L=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).id=e.id,a}return Object(O.a)(n,[{key:"render",value:function(){var e=Object(T.a)({root:{background:"linear-gradient(45deg, #01b2fe 30%, #01b2fe 90%)",borderRadius:90,border:0,color:"white",height:40,padding:"0px"},label:{textTransform:""}})(E.a);return Object(s.jsx)(e,{id:this.id,children:Object(s.jsxs)("div",{className:"buttonText",children:[Object(s.jsx)(G.a,{}),"Add Device"]})})}}]),n}(o.a.Component),V=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(N.a,{className:"flexContents headerAreaNoUnderline",children:[Object(s.jsx)("div",{className:"title",children:"My Devices"}),Object(s.jsxs)("div",{className:"alignRightFloat",spacing:2,children:[Object(s.jsx)(j.b,{to:"/Streaming",activeClassName:"hideLinkStyle",className:"hideLinkStyle",exact:!0,children:Object(s.jsx)(B,{id:"DeviceListStreamBtn",type:"submit"})}),Object(s.jsx)(L,{id:"DeviceListAddDevBtn"})]})]})})}}]),n}(o.a.Component),M=n(29),H=n(354);function U(e){var t=e.children,n=e.value,a=e.index,r=Object(H.a)(e,["children","value","index"]);return Object(s.jsx)("div",Object(i.a)(Object(i.a)({role:"tabpanel",hidden:n!==a,id:"vertical-tabpanel-".concat(a),"aria-labelledby":"vertical-tab-".concat(a)},r),{},{children:n===a&&Object(s.jsx)(N.a,{p:0,children:Object(s.jsx)(R.a,{component:"span",children:t})})}))}var z=n(495),W=n(497),_=n(498),J=n(499),Z=n(500),q=n(501),K=n(502),Q=n(503),X=n(504),Y=n(505),$=n(506),ee=n(507),te=n(125),ne=n.n(te),ae=n(331),re=n(329),ce=n(318),ie=function e(t,n,a,r){Object(b.a)(this,e),this.id=t,this.name=n,this.port=a,this.decoder=r},se=function e(t,n,a,r){Object(b.a)(this,e),this.id=t,this.name=n,this.port=a,this.encoder=r},le=n(319),oe=n(313);function de(){return Object(s.jsxs)(le.a,{children:[Object(s.jsx)(oe.a,{className:"lightGrey",children:"ID"}),Object(s.jsx)(oe.a,{className:"lightGrey",children:"Name"}),Object(s.jsx)(oe.a,{className:"lightGrey",children:"Port"})]})}function ue(e){var t=e.channel,n=t.id,a=t.name,r=t.port;return Object(s.jsxs)(le.a,{children:[Object(s.jsx)(oe.a,{children:n}),Object(s.jsx)(oe.a,{children:a}),Object(s.jsx)(oe.a,{children:r})]})}function je(e){var t=e.channels;return Object(s.jsxs)(ae.a,{style:{margin:"1em",maxWidth:"98%"},className:"flexContents",children:[Object(s.jsx)(re.a,{children:Object(s.jsx)(de,{})}),Object(s.jsx)(ce.a,{children:t.map((function(e){return Object(s.jsx)(ue,{channel:e},e.name)}))})]})}var he=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"getStatusStyle",value:function(){switch(this.props.status){case"Online":return"green statusIndicatorBody statusTextOnline ";case"Pending":return"yellow statusIndicatorBody statusTextOnline";case"Error":return"red statusIndicatorBody statusTextOnline";default:return"lightGrey statusIndicatorBody statusTextOffline"}}},{key:"render",value:function(){var e=this.props.status;return Object(s.jsx)("div",{className:this.getStatusStyle(),children:e})}}]),n}(o.a.Component),be=n(188),Oe=n(314),ve=n(496),me=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){var e;return Object(b.a)(this,n),(e=t.call(this)).state={anchorElement:null},e.setAnchorElement=e.setAnchorElement.bind(Object(M.a)(e)),e.handleClick=e.handleClick.bind(Object(M.a)(e)),e.handleClose=e.handleClose.bind(Object(M.a)(e)),e}return Object(O.a)(n,[{key:"handleClick",value:function(e){this.setAnchorElement(e.currentTarget)}},{key:"handleClose",value:function(){this.setAnchorElement(null)}},{key:"setAnchorElement",value:function(e){this.setState({anchorElement:e})}},{key:"render",value:function(){var e=this.state.anchorElement;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(g.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.handleClick,size:"small",children:Object(s.jsx)(ve.a,{})}),Object(s.jsxs)(be.a,{id:"simple-menu",anchorEl:e,keepMounted:!0,open:Boolean(e),onClose:this.handleClose,anchorOrigin:{horizontal:"right",vertical:"top"},transformOrigin:{horizontal:"right",vertical:"top"},children:[Object(s.jsx)(Oe.a,{onClick:this.handleClose,children:"View details"}),Object(s.jsx)(Oe.a,{onClick:this.handleClose,children:"Start stream with this as receiver"}),Object(s.jsx)(Oe.a,{onClick:this.handleClose,children:Object(s.jsx)("span",{className:"warningText",children:"Delete"})})]})]})}}]),n}(o.a.Component),pe=function(){function e(t,n,a,r,c,i,s,l){Object(b.a)(this,e),this.serialNumber=t,this.lastCommunication=n,this.publicIp=a,this.privateIp=r,this.name=c,this.status=i,this.channels=s,this.extras=l}return Object(O.a)(e,null,[{key:"getConciseProperties",value:function(){return["name","serialNumber","status","publicIp","privateIp","channels"]}}]),e}();function xe(){return[{title:"Name",field:"name",render:function(e){return t=e,Object(s.jsx)(j.b,{to:{pathname:"/Devices/Details/".concat(t.name),state:{device:t}},children:t.name});var t}},{title:"Serial Number",field:"serialNumber"},{title:"Status",field:"status",render:function(e){return Object(s.jsx)(he,{status:e.status})},lookup:{Online:"Online",Pending:"Pending",Error:"Error",Offline:"Offline"}},{title:"Private IP Address",field:"privateIp"},{title:"Public IP Address",field:"publicIp"},{title:"Actions",field:"action",filtering:!1,sorting:!1,render:function(){return Object(s.jsx)(me,{})},align:"center",export:!1}]}var fe=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.devices;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(N.a,{children:Object(s.jsx)(z.a,{style:{maxHeight:570},children:Object(s.jsx)(ne.a,{title:t,components:{Toolbar:function(e){return Object(s.jsx)("div",{className:"lightestGrey",children:Object(s.jsx)(te.MTableToolbar,Object(i.a)({},e))})}},columns:xe(),data:n,detailPanel:[{icon:W.a,openIcon:_.a,tooltip:"Show Device Details",render:function(e){return Object(s.jsx)("div",{className:"lightestGrey",children:Object(s.jsxs)(N.a,{margin:2,children:[Object(s.jsx)(R.a,{variant:"h6",children:"Channels"}),Object(s.jsx)(je,{channels:e.channels})]})})}}],options:{toolbar:!0,search:!0,exportButton:!0,headerStyle:{backgroundColor:"#f1f1f1",fontWeight:"bold"},actionsColumnIndex:-1,filtering:!0,draggable:!1},icons:{Filter:J.a,Search:Z.a,ResetSearch:q.a,SortArrow:K.a,Export:Q.a,FirstPage:X.a,LastPage:Y.a,NextPage:$.a,PreviousPage:ee.a}})})})})}}]),n}(o.a.Component),ge=n(511),Se=n(491),Ce=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(M.a)(a)),a}return Object(O.a)(n,[{key:"handleChange",value:function(e,t){(0,this.props.setValue)(t)}},{key:"getTabProps",value:function(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.classes.tabs;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(ge.a,{value:t,onChange:this.handleChange,"aria-label":"Vertical tabs",className:"".concat(n," lightGrey blackFont flexContents"),orientation:"vertical",variant:"scrollable",children:[Object(s.jsx)(Se.a,Object(i.a)({label:"Senders"},this.getTabProps(0))),Object(s.jsx)(Se.a,Object(i.a)({label:"Receivers"},this.getTabProps(1)))]})})}}]),n}(o.a.Component),ye=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={senders:[],receivers:[],value:0},a.dataSource=e.dataSource,a.handleValueChange=a.handleValueChange.bind(Object(M.a)(a)),a.handleSendersChange=a.handleSendersChange.bind(Object(M.a)(a)),a.handleReceiversChange=a.handleReceiversChange.bind(Object(M.a)(a)),a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.dataSource.getSenders(this.handleSendersChange),this.dataSource.getReceivers(this.handleReceiversChange)}},{key:"handleValueChange",value:function(e){this.setState({value:e})}},{key:"handleSendersChange",value:function(e){this.setState({senders:e})}},{key:"handleReceiversChange",value:function(e){this.setState({receivers:e})}},{key:"render",value:function(){var e=this.state,t=e.receivers,n=e.senders,a=e.value,r=this.props.classes;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(N.a,{style:{display:"flex",flexGrow:1},children:[Object(s.jsx)(Ce,{value:a,setValue:this.handleValueChange,classes:r}),Object(s.jsx)(U,{value:a,index:0,className:"lightGreyBorder",children:Object(s.jsx)(fe,{devices:n,title:"List of Senders"})}),Object(s.jsx)(U,{value:a,index:1,className:"lightGreyBorder",children:Object(s.jsx)(fe,{devices:t,title:"List of Receivers"})})]})})}}]),n}(o.a.Component);function we(){return Object(p.a)((function(e){return{root:{backgroundColor:e.palette.background.paper},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}}))}var ke=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props.dataSource;return Object(s.jsxs)(k.a,{children:[Object(s.jsx)(P,{breadcrumbs:[["Home","/"],["My Devices","Devices"]]}),Object(s.jsxs)(N.a,{className:"areaUnderBreadcrumbs",children:[Object(s.jsx)(V,{}),Object(s.jsx)(ye,{classes:a,dataSource:e})]})]})}}]),n}(o.a.Component),Ne=n(489),De=n(89),Ie=n.n(De),Re=n(462),Pe=n(189),Ae=n(322),Te=n(326),Ee=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).classes=Object(p.a)((function(e){return{search:Object(Pe.a)({position:"relative",right:0,marginLeft:0},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",alignItems:"left",justifyContent:"center"},inputRoot:{color:"inherit"}}})),a}return Object(O.a)(n,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"searchField",children:Object(s.jsx)(Ae.a,{placeholder:"Search",InputProps:{"aria-label":"search",startAdornment:Object(s.jsxs)(Te.a,{position:"start",children:[" ",Object(s.jsx)(Z.a,{})]})},size:"small",variant:"outlined"})})})}}]),n}(o.a.Component),Fe=n(456),Be=n(328),Ge=n(492),Le=n(245),Ve=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={open:!1},a.onClick=a.onClick.bind(Object(M.a)(a)),a}return Object(O.a)(n,[{key:"onClick",value:function(){this.setState((function(e){return{open:!e.open}}))}},{key:"render",value:function(){var e=this.props,t=e.deviceDetails,n=t.channels,a=t.name,r=e.onChange,c=this.state.open;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(Fe.a,{button:!0,dense:!0,onClick:this.onClick,children:[Object(s.jsx)(Be.a,{primary:a}),c?Object(s.jsx)(_.a,{}):Object(s.jsx)(W.a,{})]}),Object(s.jsx)(Ge.a,{in:c,timeout:"auto",unmountOnExit:!0,children:Object(s.jsx)(Re.a,{component:"div",disablePadding:!0,style:{width:"96%"},children:Object(s.jsxs)(Fe.a,{divider:!0,children:[Object(s.jsx)(Be.a,{secondary:"Select Channel"}),Object(s.jsx)(Le.a,{defaultValue:"",onChange:r,children:n.map((function(e){return Object(s.jsx)(Oe.a,{value:e.id,children:e.port},"".concat(a,"_").concat(e.id))}))})]})})})]})}}]),n}(o.a.Component),Me=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.dataSource,n=e.name,a=e.onChange;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"subtitle",children:n}),Object(s.jsx)(Ee,{}),Object(s.jsx)("div",{style:{maxHeight:"300px",overflow:"auto"},children:Object(s.jsx)(Re.a,{children:t.map((function(e){return Object(s.jsx)(Ve,{deviceDetails:e,onChange:a},e.serialNumber)}))})})]})}}]),n}(o.a.Component),He=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={senders:[],receivers:[],selectedSenderID:"",selectedReceiverID:""},a.dataSource=e.dataSource,a.handleSendersChange=a.handleSendersChange.bind(Object(M.a)(a)),a.handleReceiversChange=a.handleReceiversChange.bind(Object(M.a)(a)),a.onSenderSelected=a.onSenderSelected.bind(Object(M.a)(a)),a.onReceiverSelected=a.onReceiverSelected.bind(Object(M.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(M.a)(a)),a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.dataSource.getSenders(this.handleSendersChange),this.dataSource.getReceivers(this.handleReceiversChange)}},{key:"handleSendersChange",value:function(e){this.setState({senders:e})}},{key:"handleReceiversChange",value:function(e){this.setState({receivers:e})}},{key:"handleSubmit",value:function(e){var t=this.state,n=t.selectedReceiverID,a=t.selectedSenderID;""!==n&&""!==a&&Ie.a.post("https://bean-pod-switchboard.herokuapp.com/stream",{inputChannelId:n,outputChannelId:a}),e.preventDefault()}},{key:"onSenderSelected",value:function(e){this.setState({selectedSenderID:e.target.value})}},{key:"onReceiverSelected",value:function(e){this.setState({selectedReceiverID:e.target.value})}},{key:"render",value:function(){var e=this.state,t=e.receivers,n=e.senders;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("form",{onSubmit:this.handleSubmit,id:"createStreamForm",children:Object(s.jsxs)(Ne.a,{container:!0,spacing:2,alignContent:"center",alignItems:"center",justify:"center",children:[Object(s.jsx)(Ne.a,{item:!0,xs:3,children:Object(s.jsx)("div",{className:"streamingTable",id:"SenderTable",children:Object(s.jsx)(Me,{name:"Sender Devices",dataSource:n,onChange:this.onSenderSelected})})}),Object(s.jsx)(Ne.a,{container:!0,item:!0,xs:2,id:"TableStartStreamingBtn",justify:"center",alignContent:"center",alignItems:"center",display:"flex",children:Object(s.jsx)(B,{id:"StreamingStreamBtn",type:"submit"})}),Object(s.jsx)(Ne.a,{item:!0,xs:3,children:Object(s.jsx)("div",{className:"streamingTable",id:"ReceiverTable",children:Object(s.jsx)(Me,{name:"Receiver Devices",dataSource:t,onChange:this.onReceiverSelected})})})]})})})}}]),n}(o.a.Component),Ue=n(509),ze=n(510),We=n(353),_e=n(486),Je=n(488),Ze=n(487),qe=n(493),Ke=n(494),Qe=n(508);function Xe(e){return new pe(e.serialNumber,e.lastCommunication,e.device.publicIpAddress,e.device.privateIpAddress,e.device.displayName,e.device.status,e.inputs)}var Ye=function e(t,n,a,r){Object(b.a)(this,e),this.id=t,this.date="2020-10-31T08:15:30",this.sender=n,this.receiver=a,this.status="Online",this.type="Type 1",this.time="00:34:44",this.extras=r},$e=["Additional Device details go here"],et=[new ie(1,"Input ch 1",500,null),new ie(2,"Input ch 2",456,null),new ie(3,"Input ch 3",800,null)],tt=[new se(1,"Output ch 1",500,null),new se(2,"Output ch 2",456,null),new se(3,"Output ch 3",800,null)];function nt(e){Ie.a.get("https://bean-pod-switchboard.herokuapp.com/stream").then((function(t){Promise.all(t.data.map((function(e){return at(e)}))).then(e)})).catch((function(t){!function(e){var t=[new pe("1:10:111:999",null,"175.214.12.96","123:456","Sender 1","Online",tt,$e),new pe("1:20:111:999",null,"175.214.12.96","123:456","Sender 2","Error",tt,$e)],n=[new pe("1:01:111:999",null,"175.214.12.96","123:456","Receiver 1","Online",et,$e),new pe("1:02:111:999",null,"175.214.12.96","123:456","Receiver 2","Error",et,$e)];e([new Ye(1,t[0],n[0],["Additional Stream Details go here"]),new Ye(2,t[1],n[1],["Additional Stream Details go here"]),new Ye(3,t[1],n[0],["Additional Stream Details go here"])])}(e)}))}function at(e){return new Promise((function(t,n){Ie.a.get("".concat("https://bean-pod-switchboard.herokuapp.com/stream","/").concat(e)).then((function(e){var n=e.data;t(new Ye(n.id,Xe(n.outputChannel.encoder),Xe(n.inputChannel.decoder),["Additional stream info goes here."]))})).catch(n)}))}function rt(e,t){Ie.a.delete("".concat("https://bean-pod-switchboard.herokuapp.com/stream","/").concat(e)).then(t).catch((function(e){}))}function ct(e){var t=e.deleteId,n=o.a.useState(!1),a=Object(We.a)(n,2),r=a[0],c=a[1],i=function(){return c(!1)};return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(g.a,{onClick:function(){return c(!0)},children:Object(s.jsx)(Qe.a,{})}),Object(s.jsxs)(_e.a,{open:r,onClose:i,"aria-labelledby":"delete-stream-dialog-title","aria-describedby":"delete-stream-dialog-description",id:"delete-stream-dialog",children:[Object(s.jsx)(Ke.a,{id:"delete-stream-dialog-title",children:"Confirm Delete"}),Object(s.jsx)(Ze.a,{children:Object(s.jsx)(qe.a,{id:"delete-stream-dialog-description",children:"Are you sure you want to end stream ".concat(t,"?")})}),Object(s.jsxs)(Je.a,{children:[Object(s.jsx)(E.a,{onClick:i,color:"primary",children:"Cancel"}),Object(s.jsx)(E.a,{onClick:function(){return rt(t),c(!1)},color:"primary",autoFocus:!0,children:"Confirm"})]})]})]})}function it(e){var t=e.streamId;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)("div",{align:"center",children:[Object(s.jsx)(g.a,{children:Object(s.jsx)(Ue.a,{})}),Object(s.jsx)(g.a,{children:Object(s.jsx)(ze.a,{})}),Object(s.jsx)(ct,{deleteId:t})]})})}var st=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props.streams;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(N.a,{children:Object(s.jsx)(z.a,{children:Object(s.jsx)(ne.a,{columns:[{title:"ID",field:"id"},{title:"Date",field:"date"},{title:"Sender",field:"sender.name"},{title:"Receiver",field:"receiver.name"},{title:"Status",field:"status",render:function(e){return Object(s.jsx)(he,{status:e.status})}},{title:"Type",field:"type"},{title:"Time Elapsed",field:"time"},{title:"Actions",field:"action",filtering:!1,sorting:!1,render:function(e){return Object(s.jsx)(it,{streamId:e.id})},align:"center",export:!1}],data:e,detailPanel:[{icon:W.a,openIcon:_.a,tooltip:"Show Stream Details",render:function(){return Object(s.jsx)("div",{className:"lightestGrey",children:Object(s.jsx)(R.a,{variant:"h6",children:"Stream Details"})})}}],options:{toolbar:!1,search:!0,exportButton:!0,headerStyle:{backgroundColor:"#f1f1f1",fontWeight:"bold"},actionsColumnIndex:-1,filtering:!1,draggable:!1},icons:{SortArrow:K.a,FirstPage:X.a,LastPage:Y.a,NextPage:$.a,PreviousPage:ee.a}})})})})}}]),n}(o.a.Component),lt=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={streams:[]},a.dataSource=e.dataSource,a.handleStreamsChange=a.handleStreamsChange.bind(Object(M.a)(a)),a}return Object(O.a)(n,[{key:"componentDidMount",value:function(){this.dataSource.getAllStreams(this.handleStreamsChange)}},{key:"handleStreamsChange",value:function(e){this.setState({streams:e})}},{key:"render",value:function(){var e=this.state.streams;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(k.a,{children:[Object(s.jsx)(N.a,{className:"headerAreaUnderline",children:Object(s.jsx)("div",{className:"title",children:"Current Streams"})}),Object(s.jsx)(st,{streams:e})]})})}}]),n}(o.a.Component),ot=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).dataSource=e.deviceDataSource,a}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.deviceDataSource,n=e.streamDataSource;return Object(s.jsxs)(k.a,{children:[Object(s.jsx)(P,{breadcrumbs:[["Home","/"],["My Devices","Devices"],["Streaming","Streaming"]]}),Object(s.jsxs)(N.a,{className:"areaUnderBreadcrumbs",children:[Object(s.jsx)(N.a,{className:"flexContents headerAreaUnderline",children:Object(s.jsx)("div",{className:"title",children:"Streaming"})}),Object(s.jsx)("div",{id:"StreamingTable",children:Object(s.jsx)(He,{dataSource:t})})]}),Object(s.jsx)(N.a,{children:Object(s.jsx)(lt,{dataSource:n})})]})}}]),n}(o.a.Component),dt=n(156),ut=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(O.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.value;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(le.a,{children:[Object(s.jsx)(oe.a,{children:n.getPropertyDisplayName(t)}),Object(s.jsx)(oe.a,{align:"center",children:n.createTableCellContents(t,a)})]})})}}],[{key:"getPropertyDisplayName",value:function(e){switch(e){case"serialNumber":return"Serial Number";case"lastCommunication":return"Last Communication";case"privateIp":return"Private IP Address";case"publicIp":return"Public IP Address";case"name":return"Name";case"status":return"Status";case"channels":return"Channels";default:return"Additional Info"}}},{key:"createInnerTable",value:function(e){return Object(s.jsx)(z.a,{children:Object(s.jsx)(je,{channels:e})})}},{key:"createTableCellContents",value:function(e,t){switch(e){case"channels":return n.createInnerTable(t);case"status":return Object(s.jsx)(he,{status:t});default:return t}}}]),n}(o.a.Component);function jt(e){var t=e.device;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(z.a,{component:dt.a,children:Object(s.jsx)(ae.a,{children:Object(s.jsx)(ce.a,{children:pe.getConciseProperties().map((function(e){return Object(s.jsx)(ut,{name:e,value:t[e]},"device_".concat(e))}))})})})})}function ht(e){var t=e.value,n=e.index,a=e.children;return Object(s.jsx)("div",{role:"tabpanel",hidden:t!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n),children:t===n&&Object(s.jsx)(N.a,{p:0,children:a})})}function bt(){return Object(s.jsx)(k.a,{children:"TODO: Design activity log"})}function Ot(e){var t=e.extras;return Object(s.jsx)(k.a,{children:t})}var vt=function(e){Object(v.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={value:0},a.handleValueChange=a.handleValueChange.bind(Object(M.a)(a)),a}return Object(O.a)(n,[{key:"handleValueChange",value:function(e,t){this.setState({value:t})}},{key:"render",value:function(){var e=this.state.value,t=this.props,a=t.device,r=t.tabs;return Object(s.jsxs)(k.a,{component:dt.a,children:[Object(s.jsx)(ge.a,{value:e,onChange:this.handleValueChange,className:"lightGrey blackFont flexContents",indicatorColor:"primary",textColor:"primary","aria-label":"full width tabs example",children:r.map((function(e){return Object(s.jsx)(Se.a,{label:e},e)}))}),r.map((function(t,r){return Object(s.jsx)(ht,{value:e,index:r,device:a,children:n.getPanelContents(t,a)},t)}))]})}}],[{key:"getPanelContents",value:function(e,t){switch(e){case"Overview":return Object(s.jsx)(jt,{device:t});case"Activity Log":return Object(s.jsx)(bt,{device:t});case"Notes":return Object(s.jsx)(Ot,{extras:t.extras});default:return Object(s.jsx)("div",{children:"Whoops not a valid value"})}}}]),n}(o.a.Component);function mt(e){var t=e.location.state.device;return Object(s.jsxs)(k.a,{children:[Object(s.jsx)(P,{breadcrumbs:[["Home","/"],["My Devices","/Devices"],[t.name,t.id]]}),Object(s.jsxs)(Ne.a,{container:!0,spacing:1,children:[Object(s.jsx)(Ne.a,{item:!0,xs:12,className:"flexContents headerAreaUnderline",children:Object(s.jsx)("div",{className:"title",children:t.name})}),Object(s.jsx)(Ne.a,{item:!0,xs:12}),Object(s.jsxs)(Ne.a,{container:!0,xs:5,spacing:2,children:[Object(s.jsx)(Ne.a,{item:!0,xs:12,children:Object(s.jsx)(jt,{device:t})}),Object(s.jsx)(Ne.a,{item:!0,xs:2,children:Object(s.jsx)(E.a,{variant:"contained",color:"primary",children:"Edit"})}),Object(s.jsx)(Ne.a,{item:!0,xs:2,children:Object(s.jsx)(E.a,{variant:"outlined",children:"Delete"})})]}),Object(s.jsx)(Ne.a,{item:!0,xs:1}),Object(s.jsx)(Ne.a,{item:!0,xs:6,children:Object(s.jsx)(vt,{tabs:["Overview","Activity Log","Notes"],device:t})})]})]})}function pt(e){if(!e)return"Pending";var t=new Date("".concat(e,"Z"));return Date.now()-t.getTime()<6e5?"Online":"Offline"}function xt(e){Ie.a.get("https://bean-pod-switchboard.herokuapp.com/encoder").then((function(t){e(t.data.map((function(e){var t=[];e.output&&(t=e.output.map((function(e){return new se(e.id,e.channel.name,e.channel.port,null)})));var n=null==e.lastCommunication?"Never":e.lastCommunication;return new pe(e.serialNumber,n,e.device.publicIpAddress,e.device.privateIpAddress,e.device.displayName,pt(e.lastCommunication),t,["Additional Device details go here"])})))})).catch((function(t){!function(e){e([new pe("1:10:111:999",null,"175.214.12.96","123:456","Sender 1","Online",tt,$e),new pe("1:20:111:999",null,"175.214.12.96","123:456","Sender 2","Error",tt,$e),new pe("1:30:111:999",null,"175.214.12.96","123:456","Sender 3","Offline",tt,$e),new pe("1:40:111:999",null,"175.214.12.96","123:456","Sender 4","Pending",tt,$e),new pe("1:50:111:999",null,"175.214.12.96","123:456","Sender 5","Online",tt,$e),new pe("1:60:111:999",null,"175.214.12.96","123:456","Sender 6","Error",tt,$e),new pe("1:70:111:999",null,"175.214.12.96","123:456","Sender 7","Offline",tt,$e),new pe("1:80:111:999",null,"175.214.12.96","123:456","Sender 8","Pending",tt,$e),new pe("1:90:111:999",null,"175.214.12.96","123:456","Sender 9","Online",tt,$e)])}(e)}))}function ft(e){Ie.a.get("https://bean-pod-switchboard.herokuapp.com/decoder").then((function(t){e(t.data.map((function(e){var t=[];e.input&&(t=e.input.map((function(e){return new ie(e.id,e.channel.name,e.channel.port,null)})));var n=null==e.lastCommunication?"Never":e.lastCommunication;return new pe(e.serialNumber,n,e.device.publicIpAddress,e.device.privateIpAddress,e.device.displayName,pt(e.lastCommunication),t,["Additional Device details go here"])})))})).catch((function(t){!function(e){e([new pe("1:01:111:999",null,"175.214.12.96","123:456","Receiver 1","Online",et,$e),new pe("1:02:111:999",null,"175.214.12.96","123:456","Receiver 2","Error",et,$e),new pe("1:03:111:999",null,"175.214.12.96","123:456","Receiver 3","Offline",et,$e),new pe("1:04:111:999",null,"175.214.12.96","123:456","Receiver 4","Pending",et,$e),new pe("1:05:111:999",null,"175.214.12.96","123:456","Receiver 5","Online",et,$e),new pe("1:06:111:999",null,"175.214.12.96","123:456","Receiver 6","Error",et,$e),new pe("1:07:111:999",null,"175.214.12.96","123:456","Receiver 7","Offline",et,$e),new pe("1:08:111:999",null,"175.214.12.96","123:456","Receiver 8","Pending",et,$e),new pe("1:09:111:999",null,"175.214.12.96","123:456","Receiver 9","Online",et,$e),new pe("1:11:111:999",null,"175.214.12.96","123:456","Receiver 11","Online",et,$e),new pe("1:21:111:999",null,"175.214.12.96","123:456","Receiver 12","Error",et,$e),new pe("1:31:111:999",null,"175.214.12.96","123:456","Receiver 13","Offline",et,$e),new pe("1:41:111:999",null,"175.214.12.96","123:456","Receiver 14","Pending",et,$e),new pe("1:51:111:999",null,"175.214.12.96","123:456","Receiver 15","Online",et,$e),new pe("1:61:111:999",null,"175.214.12.96","123:456","Receiver 16","Error",et,$e),new pe("1:71:111:999",null,"175.214.12.96","123:456","Receiver 17","Offline",et,$e),new pe("1:81:111:999",null,"175.214.12.96","123:456","Receiver 18","Pending",et,$e),new pe("1:91:111:999",null,"175.214.12.96","123:456","Receiver 19","Online",et,$e)])}(e)}))}mt.defaultProps={location:{state:{device:new pe("1:10:111:999",null,"123:456","Sender 1","Online",tt,$e)}}},u.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsxs)(j.a,{children:[Object(s.jsx)(w,{}),Object(s.jsxs)(h.c,{children:[Object(s.jsx)(h.a,{exact:!0,path:["/","/Home"],component:A}),Object(s.jsx)(h.a,{exact:!0,path:"/Devices",render:function(e){return Object(s.jsx)(ke,Object(i.a)(Object(i.a)({},e),{},{dataSource:c}))}}),Object(s.jsx)(h.a,{exact:!0,path:"/Streaming",render:function(e){return Object(s.jsx)(ot,Object(i.a)(Object(i.a)({},e),{},{deviceDataSource:c,streamDataSource:r}))}}),Object(s.jsx)(h.a,{exact:!0,path:"/Devices/Details/:deviceId",component:mt})]})]})}),document.getElementById("root"))}},[[453,1,2]]]);
//# sourceMappingURL=main.00f7f3f2.chunk.js.map