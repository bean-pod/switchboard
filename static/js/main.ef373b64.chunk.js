(this.webpackJsonpswitchboard_frontend=this.webpackJsonpswitchboard_frontend||[]).push([[0],{330:function(e,t,n){},384:function(e,t,n){},483:function(e,t,n){},484:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getStream",(function(){return rt})),n.d(a,"getAllStreams",(function(){return st})),n.d(a,"deleteStream",(function(){return lt})),n.d(a,"createStream",(function(){return ut})),n.d(a,"getStreamStatistics",(function(){return jt}));var i={};n.r(i),n.d(i,"getAllLogs",(function(){return xn})),n.d(i,"getDeviceLogs",(function(){return yn})),n.d(i,"getStreamLogs",(function(){return Sn}));var r=n(1),c=n(0),s=n.n(c),o=n(22),l=n.n(o),d=(n(384),n(38)),u=n(35),h=n(9),j=n(12),b=n(8),p=n(14),m=n(13),O=n(111),v=n.n(O);function f(e){var t=e.split(".")[1].replace(/-/g,"+").replace(/_/g,"/"),n=decodeURIComponent(atob(t).split("").map((function(e){var t="00".concat(e.charCodeAt(0).toString(16));return"%".concat(t.slice(-2))})).join(""));return JSON.parse(n)}function x(e){var t=f(e.split(" ")[1]),n=new Date(1e3*t.exp);v.a.set("authToken",e,{expires:n,SameSite:"Strict"})}function g(){var e=v.a.get("authToken");return{headers:{Authorization:"".concat(e)}}}function y(){return!!v.a.get("authToken")}function k(){var e=f(v.a.get("authToken").split(" ")[1]);return"ADMIN"===e.role||"SUPERUSER"===e.role}var S=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).component=a.component.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"component",value:function(e){var t=this.props,n=t.authenticationRequired,a=t.render,i=y();return n?i?a(e):Object(r.jsx)(u.a,{to:{pathname:"/Login"}}):i?Object(r.jsx)(u.a,{to:{pathname:"/Home"}}):a(e)}},{key:"render",value:function(){var e=this,t=this.props.path;return Object(r.jsx)(u.b,{exact:!0,path:t,render:function(t){var n=t.location;return e.component(n)}})}}]),n}(s.a.Component);S.defaultProps={authenticationRequired:!1};var C=n(513),w=n(237),D=n(552),I=n(508),N=n(79),P=n(507),R=function e(t,n,a,i,r,c,s,o,l){Object(h.a)(this,e),this.serialNumber=t,this.lastCommunication=n,this.publicIp=a,this.privateIp=i,this.name=r,this.status=c,this.channels=s,this.deviceType=o,this.extras=l},E=function e(t,n,a,i,r){Object(h.a)(this,e),this.id=t,this.date="2020-10-31T08:15:30",this.sender=n,this.receiver=a,this.outputChannel=i,this.inputChannel=r,this.status="Online",this.type="Type 1",this.time="00:34:44"};function L(e){var t=e.breadcrumbs;return Object(r.jsx)(w.a,{padding:"2em 0em 0em",children:Object(r.jsx)(D.a,{"aria-label":"breadcrumb",separator:Object(r.jsx)(P.a,{fontSize:"medium"}),children:t.map((function(e){return Object(r.jsx)(I.a,{component:d.b,to:{pathname:e[1],state:e[2]?e[2]:null},children:Object(r.jsx)(N.a,{color:"textPrimary",children:e[0]})},"breadcrumb ".concat(e[0]))}))})})}var B=n(5),T=n(317),F=n(509);function A(e){var t=e.type,n=Object(B.a)({root:{background:"linear-gradient(45deg, #59bc31 30%, #59bc31 90%)",borderRadius:90,border:0,color:"white",height:40,padding:"0 5px",margin:"1em",zIndex:-1},label:{textTransform:""}})(T.a);return Object(r.jsx)(n,{type:t,children:Object(r.jsxs)("div",{className:"buttonText",children:[Object(r.jsx)(F.a,{}),"Stream"]})})}function M(){return Object(r.jsx)("div",{className:"alignRightFloat",children:Object(r.jsx)(d.b,{to:"/Streams/New",activeClassName:"hideLinkStyle",className:"hideLinkStyle",exact:!0,children:Object(r.jsx)(A,{type:"submit"})})})}function H(e){var t=e.title,n=e.hasStreamButton;return Object(r.jsxs)(w.a,{className:"flexContents headerAreaUnderline",children:[Object(r.jsx)("div",{className:"title",children:t}),n?Object(r.jsx)(M,{}):Object(r.jsx)(r.Fragment,{})]})}var U=n(327),q=n(511),W=n(328),V=n(245),z=n(512),G=n(27),_=n.n(G),J=n(44),K=n(41),Q=n.n(K),Z="An unknown error occurred. Please try again later.",X="Incorrect username and/or password. Please enter the correct credentials and try again.";function Y(){return(Y=Object(J.a)(_.a.mark((function e(t){var n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={auth:{username:t.username,password:t.password}},e.abrupt("return",Q.a.get("https://bean-pod-switchboard.herokuapp.com/auth/token",n).then((function(e){x(e.headers.authorization)})).catch((function(e){var t=Z;return e.response&&"403"===e.response.status&&(t=X),Promise.reject(new Error(t))})));case 2:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var $=n(510),ee=n(487),te=n(257),ne=n(113),ae=n(489),ie=n(490),re=n(326);function ce(e){var t=e.anchor,n=e.open,a=e.handleClose,i=e.handleLogout;return Object(r.jsx)(ee.a,{open:n,anchorEl:t,transition:!0,disablePortal:!0,children:Object(r.jsx)(te.a,{in:n,style:{transformOrigin:"center top"},children:Object(r.jsx)(ne.a,{children:Object(r.jsx)(ae.a,{onClickAway:a,children:Object(r.jsxs)(ie.a,{autoFocusItem:n,id:"menu-list-grow",children:[Object(r.jsx)(re.a,{disabled:!0,children:Object(r.jsx)(N.a,{color:"textSecondary",children:"Quick Actions"})}),Object(r.jsx)(d.b,{to:"/Home",className:"hideLinkStyle",children:Object(r.jsx)(re.a,{children:Object(r.jsx)(N.a,{color:"textPrimary",children:"Dashboard"})})}),Object(r.jsx)(d.b,{to:"/Devices",className:"hideLinkStyle",children:Object(r.jsx)(re.a,{children:Object(r.jsx)(N.a,{color:"textPrimary",children:"My Devices"})})}),Object(r.jsx)(re.a,{onClick:i,children:Object(r.jsx)(N.a,{color:"error",children:"Logout"})})]})})})})})}var se=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={open:!1},a.anchorElement=s.a.createRef(),a.handleOpen=a.handleOpen.bind(Object(b.a)(a)),a.handleClose=a.handleClose.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleOpen",value:function(){this.setState({open:!0})}},{key:"handleClose",value:function(){this.setState({open:!1})}},{key:"render",value:function(){var e=this.state.open,t=this.props,n=t.disabled,a=t.handleLogout;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(V.a,{ref:this.anchorElement,id:"acctBtn",color:"inherit",disabled:n,onClick:this.handleOpen,children:Object(r.jsx)($.a,{})}),Object(r.jsx)(ce,{anchor:this.anchorElement.current,open:e,handleLogout:a,handleClose:this.handleClose})]})}}]),n}(s.a.Component),oe=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).classes=Object(U.a)((function(e){return{menuButton:{marginRight:e.spacing(2)}}})),a.handleLogout=a.handleLogout.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleLogout",value:function(){var e=this.props.history;v.a.remove("authToken"),e.push("/Login")}},{key:"render",value:function(){return Object(r.jsx)("div",{className:"headerBar",children:Object(r.jsx)(q.a,{position:"static",children:Object(r.jsxs)(W.a,{className:"darkGrey",children:[Object(r.jsxs)("div",{className:"headerTitle",children:[Object(r.jsx)(d.b,{to:"/Home",className:"headerTitle",children:Object(r.jsx)(V.a,{edge:"start",className:this.classes.menuButton,color:"inherit","aria-label":"home",children:Object(r.jsx)(z.a,{})})}),"Switchboard"]}),Object(r.jsx)(se,{disabled:!y(),handleLogout:this.handleLogout})]})})})}}]),n}(s.a.Component),le=Object(u.h)(oe);function de(e){var t=e.breadcrumbs,n=e.title,a=e.hasStreamButton,i=e.children;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(le,{}),Object(r.jsxs)(C.a,{children:[Object(r.jsx)(L,{breadcrumbs:t}),Object(r.jsx)(H,{title:n,hasStreamButton:a}),i]})]})}de.defaultProps={hasStreamButton:!1};var ue=n(514),he=n(516),je=n(517),be=n(518),pe=n(519),me=Object(U.a)((function(){return{title:{color:"#ef5350"}}}));function Oe(e){var t=me(),n=e.open,a=e.setOpen,i=e.message,c=function(){a(!1)};return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(ue.a,{open:n,onClose:c,children:[Object(r.jsx)(he.a,{id:"login-failed-dialog-title",className:t.title,children:"Login Failed"}),Object(r.jsx)(je.a,{children:Object(r.jsx)(be.a,{id:"login-failed-dialog-description",children:i})}),Object(r.jsx)(pe.a,{children:Object(r.jsx)(T.a,{onClick:c,color:"primary",children:"OK"})})]})})}var ve=n(255),fe=n(329),xe=Object(U.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function ge(e){var t=e.handleSubmit,n=xe(),a=Object(c.useState)(""),i=Object(ve.a)(a,2),s=i[0],o=i[1],l=Object(c.useState)(""),d=Object(ve.a)(l,2),u=d[0],h=d[1];return Object(r.jsx)(C.a,{component:"main",maxWidth:"xs",children:Object(r.jsx)("div",{className:n.paper,children:Object(r.jsxs)("form",{className:n.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),t(s,u)},children:[Object(r.jsx)(fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){return o(e.target.value)}}),Object(r.jsx)(fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return h(e.target.value)}}),Object(r.jsx)(T.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Log In"})]})})})}var ye=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={dialogOpen:!1,dialogMessage:""},a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a.setDialogOpen=a.setDialogOpen.bind(Object(b.a)(a)),a.setDialogMessage=a.setDialogMessage.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleSubmit",value:function(e,t){var n=this,a=this.props.history;(function(e){return Y.apply(this,arguments)})({username:e,password:t}).then((function(){a.push("/Home")})).catch((function(e){n.setState({dialogOpen:!0,dialogMessage:e.message})}))}},{key:"setDialogOpen",value:function(e){this.setState({dialogOpen:e})}},{key:"setDialogMessage",value:function(e){this.setState({dialogMessage:e})}},{key:"render",value:function(){var e=this.state,t=e.dialogOpen,n=e.dialogMessage;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ge,{handleSubmit:this.handleSubmit}),Object(r.jsx)(Oe,{open:t,setOpen:this.setDialogOpen,message:n})]})}}]),n}(s.a.Component);function ke(){var e=Object(u.g)();return Object(r.jsx)(de,{title:"Login",breadcrumbs:[],children:Object(r.jsx)(ye,{history:e})})}var Se=n(520);function Ce(e){var t=e.width,n=e.spacing,a=e.children;return Object(r.jsx)(Se.a,{item:!0,xs:t,children:Object(r.jsx)(Se.a,{container:!0,spacing:n,children:a})})}Ce.defaultProps={spacing:3};n(330);var we=function e(t,n,a,i){Object(h.a)(this,e),this.pathname=t,this.referenceObject=n,this.buttonText=a,this.onClick=i};function De(e){var t=e.button,n=t.pathname,a=t.referenceObject,i=t.buttonText,c=t.onClick;return c?Object(r.jsx)(T.a,{variant:"contained",size:"small",onClick:c,children:i}):Object(r.jsx)(d.b,{activeClassName:"hideLinkStyle",className:"hideLinkStyle",to:{pathname:n,state:a},children:Object(r.jsx)(T.a,{variant:"contained",size:"small",children:i})})}function Ie(e){var t=e.title,n=e.children,a=e.button;return Object(r.jsxs)(ne.a,{className:"dashboardCard",elevation:2,children:[Object(r.jsx)(N.a,{variant:"h5",gutterBottom:!0,children:t}),Object(r.jsxs)(Se.a,{container:!0,justify:"center",direction:"row",spacing:3,children:[n,a?Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(w.a,{className:"alignRightFloatPadded",children:Object(r.jsx)(De,{button:a})})}):null]})]})}function Ne(e){var t=e.href,n=e.children,a=Object(B.a)({root:{background:"linear-gradient(45deg, #59bc31 30%, #59bc31 90%)",borderRadius:90,border:0,color:"white",height:40,minWidth:100,maxWidth:200,padding:"0 5px",textTransform:"none"}})(T.a);return Object(r.jsx)(I.a,{color:"inherit",href:t,children:Object(r.jsx)(a,{children:n})})}Ie.defaultProps={children:"",button:void 0};var Pe=n(527),Re=n(528),Ee=n(529),Le=n(530),Be=n(531),Te=n(532),Fe=n(96),Ae=n.n(Fe),Me=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).options={toolbar:!1,headerStyle:{backgroundColor:"#f1f1f1",fontWeight:"bold"},filtering:!1,draggable:!1},a.icons={SortArrow:Re.a,FirstPage:Ee.a,LastPage:Le.a,NextPage:Be.a,PreviousPage:Te.a},a}return Object(j.a)(n,[{key:"getOptions",value:function(){return this.options}},{key:"getIcons",value:function(){return this.icons}},{key:"render",value:function(){var e=this.props,t=e.streams,n=e.columns;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(w.a,{children:Object(r.jsx)(Pe.a,{children:Object(r.jsx)(Ae.a,{columns:n,data:t,options:this.getOptions(),icons:this.getIcons()})})})})}}]),n}(s.a.Component),He=function e(t,n,a,i){Object(h.a)(this,e),this.id=t,this.name=n,this.port=a,this.encoder=i},Ue=function e(t,n,a,i){Object(h.a)(this,e),this.id=t,this.name=n,this.port=a,this.decoder=i},qe=function e(t,n,a,i){Object(h.a)(this,e),this.id=t,this.dateTime=n,this.level=a,this.message=i},We=function e(t,n,a,i,r,c){Object(h.a)(this,e),this.id=t,this.time=n,this.window=a,this.link=i,this.send=r,this.receive=c},Ve=function e(t){Object(h.a)(this,e),this.packets=t.packets,this.packetsLost=t.packetsLost,this.packetsDropped=t.packetsDropped,this.packetsRetransmitted=t.packetsRetransmitted,this.bytes=t.bytes,this.bytesDropped=t.bytesDropped,this.mbitRate=t.mbitRate},ze=function e(t){Object(h.a)(this,e),this.packets=t.packets,this.packetsLost=t.packetsLost,this.packetsDropped=t.packetsDropped,this.packetsRetransmitted=t.packetsRetransmitted,this.packetsBelated=t.packetsBelated,this.bytes=t.bytes,this.bytesLost=t.bytesLost,this.bytesDropped=t.bytesDropped,this.mbitRate=t.mbitRate},Ge=function e(t){Object(h.a)(this,e),this.rtt=t.rtt,this.bandwidth=t.bandwidth,this.maxBandwidth=t.maxBandwidth},_e=function e(t){Object(h.a)(this,e),this.flow=t.flow,this.congestion=t.congestion,this.flight=t.flight};function Je(e){return new R(e.serialNumber,e.lastCommunication,e.device.publicIpAddress,e.device.privateIpAddress,e.device.displayName,e.device.status,e.inputs||e.outputs,e.inputs?"receiver":"sender")}function Ke(e){return new We(e.id,e.time,new _e(e.window),new Ge(e.link),new Ve(e.send),new ze(e.recv))}var Qe=["Additional Device details go here"],Ze=[new Ue(1,"Input ch 1",500,null),new Ue(2,"Input ch 2",456,null),new Ue(3,"Input ch 3",800,null)],Xe=[new He(1,"Output ch 1",500,null),new He(2,"Output ch 2",456,null),new He(3,"Output ch 3",800,null)];function Ye(){return new R("1:10:111:999",null,"123:456","Sender 1","Online",Xe,"encoder",Qe)}var $e=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={streams:[]},a.dataSource=e.dataSource,a.handleStreamsChange=a.handleStreamsChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.dataSource.getAllStreams().then(this.handleStreamsChange).catch((function(){e.handleStreamsChange(function(){var e=[new R("1:10:111:999",null,"175.214.12.96","123:456","Sender 1","Online",Xe,"encoder",Qe),new R("1:20:111:999",null,"175.214.12.96","123:456","Sender 2","Error",Xe,"encoder",Qe)],t=[new R("1:01:111:999",null,"175.214.12.96","123:456","Receiver 1","Online",Ze,"decoder",Qe),new R("1:02:111:999",null,"175.214.12.96","123:456","Receiver 2","Error",Ze,"decoder",Qe)];return[new E(1,e[0],t[0],1,2),new E(2,e[1],t[1],3,4),new E(3,e[1],t[0],5,6)]}())}))}},{key:"handleStreamsChange",value:function(e){this.setState({streams:e})}},{key:"render",value:function(){var e=this.state.streams,t=this.props.columns;return Object(r.jsx)(Me,{streams:e,columns:t})}}]),n}(s.a.Component),et=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(j.a)(n,[{key:"getStatusStyle",value:function(){switch(this.props.status){case"Online":return"green statusIndicatorBody statusTextOnline ";case"Pending":return"yellow statusIndicatorBody statusTextOnline";case"Error":return"red statusIndicatorBody statusTextOnline";default:return"lightGrey statusIndicatorBody statusTextOffline"}}},{key:"render",value:function(){var e=this.props.status;return Object(r.jsx)("div",{className:this.getStatusStyle(),children:e})}}]),n}(s.a.Component),tt=n(334),nt=n(533);function at(e){var t=e.navLinkInfo,n=e.tooltipTitle;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(d.b,{to:t,children:Object(r.jsx)(tt.a,{title:n,children:Object(r.jsx)(V.a,{children:Object(r.jsx)(nt.a,{})})})})})}function it(e){var t=e.streamInfo,n={pathname:"/Streams/Details/".concat(t.id),state:{stream:t}};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(at,{navLinkInfo:n,tooltipTitle:"View Stream Details"})})}function rt(e){return ct.apply(this,arguments)}function ct(){return(ct=Object(J.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.a.get("".concat("https://bean-pod-switchboard.herokuapp.com/stream","/").concat(t),g()).then((function(e){var t=e.data;return new E(t.id,Je(t.outputChannel.encoder),Je(t.inputChannel.decoder),t.outputChannel.channel.port,t.inputChannel.channel.port)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function st(){return ot.apply(this,arguments)}function ot(){return(ot=Object(J.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.a.get("https://bean-pod-switchboard.herokuapp.com/stream",g()).then((function(e){return Promise.all(e.data.map((function(e){return rt(e)})))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function lt(e){return dt.apply(this,arguments)}function dt(){return(dt=Object(J.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.a.delete("".concat("https://bean-pod-switchboard.herokuapp.com/stream","/").concat(t),g()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ut(e,t){return ht.apply(this,arguments)}function ht(){return(ht=Object(J.a)(_.a.mark((function e(t,n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.a.post("https://bean-pod-switchboard.herokuapp.com/stream",{inputChannelId:t,outputChannelId:n},g()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function jt(e){return bt.apply(this,arguments)}function bt(){return(bt=Object(J.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.a.get("".concat("https://bean-pod-switchboard.herokuapp.com/stream","/statistics/").concat(t),g()).then((function(e){return Ke(e.data)})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var pt=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).simpleColumns=[{title:"Sender",field:"sender.name"},{title:"Receiver",field:"receiver.name"},{title:"Status",field:"status",render:function(e){return Object(r.jsx)(et,{status:e.status})}},{title:"Actions",field:"action",filtering:!1,sorting:!1,render:function(e){return Object(r.jsx)(it,{streamInfo:e})},align:"center",export:!1}],a}return Object(j.a)(n,[{key:"render",value:function(){return Object(r.jsx)($e,{dataSource:a,columns:this.simpleColumns})}}]),n}(s.a.Component);function mt(){return Object(r.jsxs)(Ie,{title:"Active Streams",style:{height:"100%"},children:[Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(pt,{})}),Object(r.jsx)(Se.a,{item:!0,xs:4,children:Object(r.jsx)(Ne,{href:"/Streams",children:"See More"})}),Object(r.jsx)(Se.a,{item:!0,xs:4,children:Object(r.jsx)(Ne,{href:"/Streams/New",children:"Start Stream"})})]})}function Ot(){return Object(r.jsx)(Ie,{title:"Activity Logs",children:Object(r.jsx)(Se.a,{item:!0,xs:4,children:Object(r.jsx)(Ne,{href:"/Logs",children:"View All"})})})}function vt(){return Object(r.jsxs)(Ie,{title:"Devices",children:[Object(r.jsx)(Se.a,{item:!0,xs:4,children:Object(r.jsx)(Ne,{href:"/Devices",children:"View Senders"})}),Object(r.jsx)(Se.a,{item:!0,xs:4,children:Object(r.jsx)(Ne,{href:"/Devices",children:"View Receivers"})})]})}function ft(){return Object(r.jsxs)(Ie,{title:"Admin Panel",children:[Object(r.jsx)(Se.a,{item:!0,xs:4,children:Object(r.jsx)(Ne,{href:"/Admin",children:"View Users"})}),Object(r.jsx)(Se.a,{item:!0,xs:4,children:Object(r.jsx)(Ne,{href:"/Admin/New",children:"Create a User"})})]})}function xt(){return Object(r.jsxs)(Se.a,{container:!0,justify:"center",alignItems:"stretch",direction:"row",spacing:3,children:[Object(r.jsx)(Se.a,{item:!0,xs:6,children:Object(r.jsx)(Se.a,{style:{height:"100%"},children:Object(r.jsx)(mt,{})})}),Object(r.jsxs)(Ce,{width:6,children:[Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(vt,{})}),Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(Ot,{})}),k()?Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(ft,{})}):Object(r.jsx)("div",{})]})]})}function gt(){return Object(r.jsx)(de,{title:"Dashboard",breadcrumbs:[["Home",""]],children:Object(r.jsx)(xt,{})})}function yt(e){if(!e)return"Pending";var t=new Date("".concat(e,"Z"));return Date.now()-t.getTime()<6e5?"Online":"Offline"}function kt(e){Q.a.get("https://bean-pod-switchboard.herokuapp.com/encoder",g()).then((function(t){e(t.data.map((function(e){var t=[];e.output&&(t=e.output.map((function(e){return new He(e.id,e.channel.name,e.channel.port,null)})));var n=null==e.lastCommunication?"Never":e.lastCommunication;return new R(e.serialNumber,n,e.device.publicIpAddress,e.device.privateIpAddress,e.device.displayName,yt(e.lastCommunication),t,"encoder",e.device.configurationInstance)})))})).catch((function(){!function(e){e([new R("1:10:111:999",null,"175.214.12.96","123:456","Sender 1","Online",Xe,"encoder",Qe),new R("1:20:111:999",null,"175.214.12.96","123:456","Sender 2","Error",Xe,"encoder",Qe),new R("1:30:111:999",null,"175.214.12.96","123:456","Sender 3","Offline",Xe,"encoder",Qe),new R("1:40:111:999",null,"175.214.12.96","123:456","Sender 4","Pending",Xe,"encoder",Qe),new R("1:50:111:999",null,"175.214.12.96","123:456","Sender 5","Online",Xe,"encoder",Qe),new R("1:60:111:999",null,"175.214.12.96","123:456","Sender 6","Error",Xe,"encoder",Qe),new R("1:70:111:999",null,"175.214.12.96","123:456","Sender 7","Offline",Xe,"encoder",Qe),new R("1:80:111:999",null,"175.214.12.96","123:456","Sender 8","Pending",Xe,"encoder",Qe),new R("1:90:111:999",null,"175.214.12.96","123:456","Sender 9","Online",Xe,"encoder",Qe)])}(e)}))}function St(e){Q.a.get("https://bean-pod-switchboard.herokuapp.com/decoder",g()).then((function(t){e(t.data.map((function(e){var t=[];e.input&&(t=e.input.map((function(e){return new Ue(e.id,e.channel.name,e.channel.port,null)})));var n=null==e.lastCommunication?"Never":e.lastCommunication;return new R(e.serialNumber,n,e.device.publicIpAddress,e.device.privateIpAddress,e.device.displayName,yt(e.lastCommunication),t,"decoder",e.device.configurationInstance)})))})).catch((function(){!function(e){e([new R("1:01:111:999",null,"175.214.12.96","123:456","Receiver 1","Online",Ze,"decoder",Qe),new R("1:02:111:999",null,"175.214.12.96","123:456","Receiver 2","Error",Ze,"decoder",Qe),new R("1:03:111:999",null,"175.214.12.96","123:456","Receiver 3","Offline",Ze,"decoder",Qe),new R("1:04:111:999",null,"175.214.12.96","123:456","Receiver 4","Pending",Ze,"decoder",Qe),new R("1:05:111:999",null,"175.214.12.96","123:456","Receiver 5","Online",Ze,"decoder",Qe),new R("1:06:111:999",null,"175.214.12.96","123:456","Receiver 6","Error",Ze,"decoder",Qe),new R("1:07:111:999",null,"175.214.12.96","123:456","Receiver 7","Offline",Ze,"decoder",Qe),new R("1:08:111:999",null,"175.214.12.96","123:456","Receiver 8","Pending",Ze,"decoder",Qe),new R("1:09:111:999",null,"175.214.12.96","123:456","Receiver 9","Online",Ze,"decoder",Qe),new R("1:11:111:999",null,"175.214.12.96","123:456","Receiver 11","Online",Ze,"decoder",Qe),new R("1:21:111:999",null,"175.214.12.96","123:456","Receiver 12","Error",Ze,"decoder",Qe),new R("1:31:111:999",null,"175.214.12.96","123:456","Receiver 13","Offline",Ze,"decoder",Qe),new R("1:41:111:999",null,"175.214.12.96","123:456","Receiver 14","Pending",Ze,"decoder",Qe),new R("1:51:111:999",null,"175.214.12.96","123:456","Receiver 15","Online",Ze,"decoder",Qe),new R("1:61:111:999",null,"175.214.12.96","123:456","Receiver 16","Error",Ze,"decoder",Qe),new R("1:71:111:999",null,"175.214.12.96","123:456","Receiver 17","Offline",Ze,"decoder",Qe),new R("1:81:111:999",null,"175.214.12.96","123:456","Receiver 18","Pending",Ze,"decoder",Qe),new R("1:91:111:999",null,"175.214.12.96","123:456","Receiver 19","Online",Ze,"decoder",Qe)])}(e)}))}function Ct(){return(Ct=Object(J.a)(_.a.mark((function e(t,n){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.a.put("https://bean-pod-switchboard.herokuapp.com/device",{serialNumber:t,displayName:n},g()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wt(){return(wt=Object(J.a)(_.a.mark((function e(t,n){var a,i;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(a=new FormData).append("configuration",n),(i=g()).headers["Content-Type"]="multipart/form-data; boundary=".concat(a._boundary),e.abrupt("return",Q.a.put("".concat("https://bean-pod-switchboard.herokuapp.com/device","/config/").concat(t),a,i));case 5:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Dt=n(251),It=n(370),Nt=Object(B.a)({input:{borderRadius:4,position:"relative",fontWeight:500,letterSpacing:"0.0075em",lineHeight:"1.6",fontSize:"1.25rem",padding:"10px 26px 10px 12px","&:focus":{borderRadius:4,borderColor:"#80bdff",boxShadow:"0 0 0 0.2rem rgba(0,123,255,.25)"}}})(It.a),Pt=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleChange",value:function(e){var t=this.props.handleChange;t(e.target.value)}},{key:"render",value:function(){var e=this.props.index;return Object(r.jsxs)(Dt.a,{id:"device-table-title-select",value:e,onChange:this.handleChange,input:Object(r.jsx)(Nt,{}),children:[Object(r.jsx)(re.a,{value:0,children:"All Devices"}),Object(r.jsx)(re.a,{value:1,children:"Senders"}),Object(r.jsx)(re.a,{value:2,children:"Receivers"})]})}}]),n}(s.a.Component),Rt=n(367),Et=n(534),Lt=n(535),Bt=n(536),Tt=n(537),Ft=n(538),At=n(539),Mt=n(349),Ht=n(348),Ut=n(337),qt=n(338),Wt=n(333);function Vt(){return Object(r.jsxs)(qt.a,{children:[Object(r.jsx)(Wt.a,{className:"lightGrey",children:"ID"}),Object(r.jsx)(Wt.a,{className:"lightGrey",children:"Name"}),Object(r.jsx)(Wt.a,{className:"lightGrey",children:"Port"})]})}function zt(e){var t=e.channel,n=t.id,a=t.name,i=t.port;return Object(r.jsxs)(qt.a,{children:[Object(r.jsx)(Wt.a,{children:n}),Object(r.jsx)(Wt.a,{children:a}),Object(r.jsx)(Wt.a,{children:i})]})}function Gt(e){var t=e.channels;return Object(r.jsxs)(Mt.a,{className:"flexContents",children:[Object(r.jsx)(Ht.a,{children:Object(r.jsx)(Vt,{})}),Object(r.jsx)(Ut.a,{children:t.map((function(e){return Object(r.jsx)(zt,{channel:e},e.name)}))})]})}function _t(e){var t=e.deviceInfo,n={pathname:"/Devices/Details/".concat(t.serialNumber),state:{device:t}};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(at,{navLinkInfo:n,tooltipTitle:"View Device Details"})})}var Jt=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).components={Toolbar:function(e){return Object(r.jsx)("div",{className:"lightestGrey",children:Object(r.jsx)(Fe.MTableToolbar,Object(Rt.a)({},e))})}},a.columns=[{title:"Name",field:"name"},{title:"Serial Number",field:"serialNumber"},{title:"Status",field:"status",render:function(e){return Object(r.jsx)(et,{status:e.status})},lookup:{Online:"Online",Pending:"Pending",Error:"Error",Offline:"Offline"}},{title:"Private IP Address",field:"privateIp"},{title:"Public IP Address",field:"publicIp"},{title:"Actions",field:"action",filtering:!1,sorting:!1,render:function(e){return Object(r.jsx)(_t,{deviceInfo:e})},align:"center",export:!1}],a.detailPanel=[{icon:Et.a,openIcon:Lt.a,tooltip:"Show Channels",render:function(e){return Object(r.jsxs)("div",{className:"lightestGrey",style:{padding:"1.5em"},children:[Object(r.jsx)(N.a,{variant:"h6",children:"Channels"}),Object(r.jsx)(Gt,{channels:e.channels})]})}}],a.options={toolbar:!0,search:!0,exportButton:!0,headerStyle:{backgroundColor:"#f1f1f1",fontWeight:"bold"},filtering:!0,draggable:!1},a.icons={Filter:Bt.a,Search:Tt.a,ResetSearch:Ft.a,SortArrow:Re.a,Export:At.a,FirstPage:Ee.a,LastPage:Le.a,NextPage:Be.a,PreviousPage:Te.a},a}return Object(j.a)(n,[{key:"render",value:function(){var e=this.props,t=e.title,n=e.devices;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(w.a,{children:Object(r.jsx)(Pe.a,{style:{maxHeight:570},children:Object(r.jsx)(Ae.a,{title:t,components:this.components,columns:this.columns,data:n,detailPanel:this.detailPanel,options:this.options,icons:this.icons})})})})}}]),n}(s.a.Component),Kt=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={selected:0,senders:[],receivers:[]},a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.getDevices=a.getDevices.bind(Object(b.a)(a)),a.getTitle=a.getTitle.bind(Object(b.a)(a)),a.handleSendersChange=a.handleSendersChange.bind(Object(b.a)(a)),a.handleReceiversChange=a.handleReceiversChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){kt(this.handleSendersChange),St(this.handleReceiversChange)}},{key:"handleChange",value:function(e){this.setState({selected:e})}},{key:"handleSendersChange",value:function(e){this.setState({senders:e})}},{key:"handleReceiversChange",value:function(e){this.setState({receivers:e})}},{key:"getDevices",value:function(){var e=this.state,t=e.receivers,n=e.senders;switch(e.selected){case 1:return n;case 2:return t;default:return n.concat(t)}}},{key:"getTitle",value:function(){var e=this.state.selected;return Object(r.jsx)(Pt,{index:e,handleChange:this.handleChange})}},{key:"render",value:function(){return Object(r.jsx)(Jt,{devices:this.getDevices(),title:this.getTitle()})}}]),n}(s.a.Component);function Qt(){return Object(r.jsx)(de,{title:"My Devices",breadcrumbs:[["Home","/Home"],["My Devices","/Devices"]],hasStreamButton:!0,children:Object(r.jsx)(Kt,{})})}var Zt=n(540),Xt=n(541);function Yt(e){var t=e.confirmEditing,n=e.deviceName,a=e.setName,i=e.cancelEditing;return Object(r.jsx)("form",{className:"deviceNameEditForm",onSubmit:t,children:Object(r.jsxs)(w.a,{className:"flexContents",children:[Object(r.jsx)(fe.a,{id:"deviceName",name:"deviceName",required:!0,defaultValue:n,onChange:function(e){return a(e.target.value)}}),Object(r.jsxs)("div",{className:"alignRightFloat",children:[Object(r.jsx)(V.a,{id:"cancelEditBtn",size:"small",onClick:i,children:Object(r.jsx)(Zt.a,{})}),Object(r.jsx)(V.a,{id:"confirmEditBtn",type:"submit",color:"primary",children:Object(r.jsx)(Xt.a,{})})]})]})})}var $t=n(542);function en(e){var t=e.deviceName,n=e.startEditing;return Object(r.jsxs)(r.Fragment,{children:[t,Object(r.jsx)("div",{className:"alignRightFloat",children:Object(r.jsx)(V.a,{id:"editBtn",size:"small",color:"action",onClick:n,children:Object(r.jsx)($t.a,{})})})]})}var tn,nn=n(526),an=n(499),rn=n(543),cn=n(544),sn=n(545),on=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={open:!1,status:"",message:""},a.openSnackbar=a.openSnackbar.bind(Object(b.a)(a)),a.handleClose=a.handleClose.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){tn=this.openSnackbar}},{key:"handleClose",value:function(e,t){"clickaway"!==t&&this.setState({open:!1})}},{key:"openSnackbar",value:function(e,t){this.setState({open:!0,status:e,message:t})}},{key:"render",value:function(){var e=this.state,t=e.open,n=e.status,a=e.message,i="success"===n;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(nn.a,{contentprops:{"aria-describedby":"message-id"},anchorOrigin:{vertical:"bottom",horizontal:"left"},open:t,autoHideDuration:3e3,onClose:this.handleClose,children:Object(r.jsx)(an.a,{style:{backgroundColor:i?"#4caf50":"#f44336"},message:Object(r.jsxs)(w.a,{id:"message-id",className:"snackMessage",children:[i?Object(r.jsx)(rn.a,{className:"iconPadding"}):Object(r.jsx)(cn.a,{className:"iconPadding"}),a]}),action:[Object(r.jsx)(V.a,{"aria-label":"Close",color:"inherit",onClick:this.handleClose,children:Object(r.jsx)(sn.a,{})},"close")]})})})}}]),n}(s.a.Component);function ln(e,t){tn(e,t)}var dn=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).deviceName=e.deviceName,a.deviceId=e.deviceId,a.state={editing:!1,name:a.deviceName},a.startEdit=a.startEdit.bind(Object(b.a)(a)),a.cancelEditing=a.cancelEditing.bind(Object(b.a)(a)),a.confirmEditing=a.confirmEditing.bind(Object(b.a)(a)),a.setName=a.setName.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"setName",value:function(e){this.setState({name:e})}},{key:"startEdit",value:function(){this.setState({editing:!0})}},{key:"cancelEditing",value:function(){this.setState({name:this.deviceName}),this.setState({editing:!1})}},{key:"confirmEditing",value:function(e){var t=this;e.preventDefault();var n=this.state.name,a=this.deviceName;this.deviceName=n,this.setState({editing:!1}),function(e,t){return Ct.apply(this,arguments)}(this.deviceId,n).then((function(){ln("success","Device successfully renamed to ".concat(n))})).catch((function(){t.deviceName=a,t.forceUpdate(),ln("error","Failed to rename device")}))}},{key:"render",value:function(){var e=this.state.editing;return Object(r.jsx)(r.Fragment,{children:e?Object(r.jsx)(Yt,{confirmEditing:this.confirmEditing,deviceName:this.deviceName,setName:this.setName,cancelEditing:this.cancelEditing}):Object(r.jsx)(en,{deviceName:this.deviceName,startEditing:this.startEdit})})}}]),n}(s.a.Component),un=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).getPropertyDisplayName=a.getPropertyDisplayName.bind(Object(b.a)(a)),a.createInnerTable=a.createInnerTable.bind(Object(b.a)(a)),a.createTableCellContents=a.createTableCellContents.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"getPropertyDisplayName",value:function(){switch(this.props.name){case"serialNumber":return"Serial Number";case"lastCommunication":return"Last Communication";case"privateIp":return"Private IP Address";case"publicIp":return"Public IP Address";case"name":return"Name";case"status":return"Status";case"channels":return"Channels";default:return"Additional Info"}}},{key:"createInnerTable",value:function(){var e=this.props.value;return Object(r.jsx)(Pe.a,{children:Object(r.jsx)(Gt,{channels:e})})}},{key:"createTableCellContents",value:function(){var e=this.props,t=e.name,n=e.value,a=e.device.serialNumber;switch(t){case"channels":return this.createInnerTable();case"status":return Object(r.jsx)(et,{status:n});case"name":return Object(r.jsx)(dn,{deviceName:n,deviceId:a});default:return n}}},{key:"render",value:function(){return Object(r.jsxs)(qt.a,{children:[Object(r.jsx)(Wt.a,{children:this.getPropertyDisplayName()}),Object(r.jsx)(Wt.a,{align:"center",children:this.createTableCellContents()})]})}}]),n}(s.a.Component);function hn(e){var t=e.device,n=e.properties;return Object(r.jsx)(Pe.a,{children:Object(r.jsx)(Mt.a,{children:Object(r.jsx)(Ut.a,{children:n.map((function(e){return Object(r.jsx)(un,{name:e,value:t[e],device:t},"device_".concat(e))}))})})})}function jn(e){var t=e.device;return Object(r.jsx)(hn,{device:t,properties:["name","serialNumber","status","publicIp","privateIp"]})}function bn(e){var t=e.device;return Object(r.jsx)(Ie,{title:"Device Info",children:Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(jn,{device:t})})})}var pn=function e(t,n,a){Object(h.a)(this,e),this.dateTime=t,this.level=n,this.message=a},mn=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).options={toolbar:!0,showTitle:!1,search:!0,exportButton:!0,headerStyle:{backgroundColor:"#f1f1f1",fontWeight:"bold"},filtering:!1,draggable:!1,maxBodyHeight:"auto",minBodyHeight:"auto"},a.icons={Search:Tt.a,ResetSearch:Ft.a,SortArrow:Re.a,Export:At.a,FirstPage:Ee.a,LastPage:Le.a,NextPage:Be.a,PreviousPage:Te.a},a}return Object(j.a)(n,[{key:"getOptions",value:function(){return this.options}},{key:"getIcons",value:function(){return this.icons}},{key:"render",value:function(){var e=this.props,t=e.columns,n=e.logs;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(w.a,{children:Object(r.jsx)(Pe.a,{children:Object(r.jsx)(Ae.a,{columns:t,data:n,options:this.getOptions(),icons:this.getIcons()})})})})}}]),n}(s.a.Component),On=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={logs:[]},a.columns=[{title:"ID",field:"id"},{title:"Date",field:"dateTime",defaultSort:"desc"},{title:"Level",field:"level"},{title:"Message",field:"message",sorting:!1}],a.dataSource=e.dataSource,a.handleDeviceLogsChange=a.handleDeviceLogsChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.device;this.dataSource.getDeviceLogs(e.serialNumber).then(this.handleDeviceLogsChange).catch((function(e){ln("error","Failed to fetch device logs: ".concat(e.message))}))}},{key:"handleDeviceLogsChange",value:function(e){this.setState({logs:e})}},{key:"render",value:function(){var e=this.state.logs;return Object(r.jsx)(mn,{logs:e,columns:this.columns})}}]),n}(s.a.Component);function vn(e){return fn.apply(this,arguments)}function fn(){return(fn=Object(J.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.a.get(t,g()).then((function(e){return Promise.resolve(e.data.map((function(e){return new qe(e.id,e.dateTime,e.level,e.message)})))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function xn(){return gn.apply(this,arguments)}function gn(){return(gn=Object(J.a)(_.a.mark((function e(){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn("https://bean-pod-switchboard.herokuapp.com/log"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function yn(e){return kn.apply(this,arguments)}function kn(){return(kn=Object(J.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",vn("".concat("https://bean-pod-switchboard.herokuapp.com/log","/").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Sn(e){return Cn.apply(this,arguments)}function Cn(){return(Cn=Object(J.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.a.get("".concat("https://bean-pod-switchboard.herokuapp.com/log/stream","/").concat(t),g()).then((function(e){return Promise.resolve(e.data.map((function(e){return new pn(e.logEntity.dateTime,e.logEntity.level,e.logEntity.message)})))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function wn(e){var t=e.device;return Object(r.jsx)(Ie,{title:"Logs",children:Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(On,{dataSource:i,device:t})})})}function Dn(e){var t=e.device.channels;return Object(r.jsx)(Ie,{title:"Channels",children:Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(Gt,{channels:t})})})}var In=n(207),Nn=n.n(In),Pn=n(206),Rn=n.n(Pn);function En(e){var t=e.children;return Object(r.jsx)(je.a,{children:Object(r.jsx)(be.a,{id:"dialog-description",children:t})})}function Ln(e){var t=e.button1,n=e.button2;return Object(r.jsxs)(pe.a,{children:[Object(r.jsx)(T.a,{onClick:t.onClick,color:"primary",children:t.name}),n?Object(r.jsx)(T.a,{onClick:n.onClick,color:"secondary",autoFocus:!0,children:n.name}):void 0]})}Ln.defaultProps={button2:void 0};var Bn=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={open:!1},a.openDialog=a.openDialog.bind(Object(b.a)(a)),a.closeDialog=a.closeDialog.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"openDialog",value:function(){return this.setState({open:!0})}},{key:"closeDialog",value:function(){return this.setState({open:!1})}},{key:"render",value:function(){var e=this,t=this.props,n=t.title,a=t.actionButton,i=t.children,c=t.isError,s=this.state.open,o={name:a?"Cancel":"OK",onClick:this.closeDialog};return Object(r.jsxs)(Rn.a,{open:s,onClose:function(){return e.closeDialog},"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",id:"dialog",children:[Object(r.jsx)(he.a,{className:c?"warningText":void 0,children:n}),Object(r.jsx)(En,{children:i}),a?Object(r.jsx)(Ln,{button1:o,button2:a}):Object(r.jsx)(Ln,{button1:o})]})}}]),n}(s.a.Component);Bn.defaultProps={isError:!1,actionButton:void 0};var Tn=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).dialogElement=s.a.createRef(),a.confirmDelete=a.confirmDelete.bind(Object(b.a)(a)),a.openDialog=a.openDialog.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"confirmDelete",value:function(){var e,t=this.props,n=t.device.serialNumber,a=t.history;this.dialogElement.current.closeDialog(),(e=n,Q.a.delete("".concat("https://bean-pod-switchboard.herokuapp.com/device","/").concat(e),g())).then((function(){a.push("/Devices"),ln("success","Device deleted! (Serial Number: ".concat(n,")"))})).catch((function(){ln("error","Could not delete device (Serial Number: ".concat(n,")"))}))}},{key:"openDialog",value:function(){return this.dialogElement.current.openDialog()}},{key:"render",value:function(){var e=this.props.device,t="Are you sure you want to delete ".concat(e.name,"?"),n={name:"Confirm",onClick:this.confirmDelete};return Object(r.jsx)(Bn,{ref:this.dialogElement,title:"Confirm Delete",actionButton:n,children:t})}}]),n}(s.a.Component),Fn=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).dialogElement=s.a.createRef(),a.openDialog=a.openDialog.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"openDialog",value:function(){this.dialogElement.current.openDialog()}},{key:"render",value:function(){var e=this.props,t=e.device,n=e.history;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(T.a,{variant:"contained",color:"secondary",startIcon:Object(r.jsx)(Nn.a,{}),onClick:this.openDialog,children:"Delete"}),Object(r.jsx)(Tn,{ref:this.dialogElement,device:t,history:n})]})}}]),n}(s.a.Component),An=Object(u.h)(Fn),Mn=n(546),Hn=n(200),Un=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={file:null},a.dialogElement=s.a.createRef(),a.openDialog=a.openDialog.bind(Object(b.a)(a)),a.handleChange=a.handleChange.bind(Object(b.a)(a)),a.handleUpload=a.handleUpload.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleChange",value:function(e){this.setState({file:e.target.files[0]})}},{key:"handleUpload",value:function(){var e=this;(function(e,t){return wt.apply(this,arguments)})(this.props.deviceId,this.state.file).then((function(){ln("success","Successfully uploaded configuration")})).catch((function(){ln("error","Upload failed")})).finally((function(){e.dialogElement.current.closeDialog()}))}},{key:"openDialog",value:function(){return this.dialogElement.current.openDialog()}},{key:"render",value:function(){var e={name:"Upload",onClick:this.handleUpload};return Object(r.jsx)(Bn,{ref:this.dialogElement,title:"Upload a file",actionButton:e,children:Object(r.jsx)(Hn.a,{type:"file",name:"file",disableUnderline:!0,onChange:this.handleChange})})}}]),n}(s.a.Component),qn=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).dialogElement=s.a.createRef(),a.openDialog=a.openDialog.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"openDialog",value:function(){this.dialogElement.current.openDialog()}},{key:"render",value:function(){var e=this.props.device.serialNumber;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(T.a,{variant:"contained",color:"primary",startIcon:Object(r.jsx)(Mn.a,{}),onClick:this.openDialog,children:"Upload New"}),Object(r.jsx)(Un,{ref:this.dialogElement,deviceId:e})]})}}]),n}(s.a.Component),Wn=n(547),Vn=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).dialogElement=s.a.createRef(),a.handleDownload=a.handleDownload.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleDownload",value:function(){var e=this.props.device;if(e.extras){var t="".concat(e.serialNumber,".config"),n=document.createElement("a");n.setAttribute("href","data:text/plain;charset=utf-8,".concat(atob(e.extras))),n.setAttribute("download",t),n.style.display="none",document.body.appendChild(n),n.click(),document.body.removeChild(n)}}},{key:"render",value:function(){var e=this.props.device;return Object(r.jsx)(T.a,{variant:"contained",color:"primary",onClick:this.handleDownload,startIcon:Object(r.jsx)(Wn.a,{}),disabled:!e.extras,children:"Download"})}}]),n}(s.a.Component);function zn(e){var t=e.device;return Object(r.jsx)(Ie,{title:"Configuration",children:Object(r.jsxs)(Se.a,{container:!0,justify:"center",direction:"row",spacing:3,children:[Object(r.jsx)(Se.a,{item:!0,xs:4,children:Object(r.jsx)(qn,{device:t})}),Object(r.jsx)(Se.a,{item:!0,xs:4,children:Object(r.jsx)(Vn,{device:t})})]})})}function Gn(e){var t=e.device;return Object(r.jsxs)(C.a,{children:[Object(r.jsxs)(Se.a,{container:!0,spacing:3,children:[Object(r.jsxs)(Ce,{width:6,children:[Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(bn,{device:t})}),Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(Dn,{device:t})}),Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(zn,{device:t})})]}),Object(r.jsx)(Se.a,{item:!0,xs:6,children:Object(r.jsx)(wn,{device:t})})]}),Object(r.jsx)(w.a,{className:"alignRightFloatPadded",children:Object(r.jsx)(An,{device:t})})]})}function _n(e){var t=e.location.state.device,n=[["Home","/Home"],["My Devices","/Devices"],["Device Details","/Devices/Details/".concat(t.serialNumber),{device:t}]];return Object(r.jsx)(de,{title:"Device Details",breadcrumbs:n,children:Object(r.jsx)(Gn,{device:t})})}Gn.defaultProps={device:Ye()},_n.defaultProps={location:{state:{device:Ye()}}};var Jn=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).detailedColumns=[{title:"ID",field:"id"},{title:"Date",field:"date"},{title:"Sender",field:"sender.name"},{title:"Receiver",field:"receiver.name"},{title:"Status",field:"status",render:function(e){return Object(r.jsx)(et,{status:e.status})}},{title:"Type",field:"type"},{title:"Time Elapsed",field:"time"},{title:"Actions",field:"action",filtering:!1,sorting:!1,render:function(e){return Object(r.jsx)(it,{streamInfo:e})},align:"center",export:!1}],a}return Object(j.a)(n,[{key:"render",value:function(){return Object(r.jsx)($e,{dataSource:a,columns:this.detailedColumns})}}]),n}(s.a.Component);function Kn(){return Object(r.jsx)(de,{title:"Active Streams",breadcrumbs:[["Home","/Home"],["Active Streams","/Streams"]],hasStreamButton:!0,children:Object(r.jsx)(Jn,{})})}var Qn=n(550),Zn=n(366),Xn=n.n(Zn),Yn=n(525),$n=n(491),ea=n(492),ta=n(347),na=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).handleListItemClick=a.handleListItemClick.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleListItemClick",value:function(e){(0,this.props.setIndex)(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.selectedIndex,a=t.items;return Object(r.jsx)($n.a,{children:a.map((function(t,a){return Object(r.jsx)(ea.a,{button:!0,selected:n===a,onClick:function(){return e.handleListItemClick(a)},children:Object(r.jsx)(ta.a,{primary:t})},t)}))})}}]),n}(s.a.Component);function aa(e){var t=e.selectedIndex,n=e.setIndex,a=e.deviceList.map((function(e){return e.name}));return Object(r.jsx)(na,{selectedIndex:t,setIndex:n,items:a})}function ia(e){var t=e.selectedIndex,n=e.setIndex,a=e.deviceList[e.deviceIndex].channels.map((function(e){return e.name}));return Object(r.jsx)(na,{selectedIndex:t,setIndex:n,items:a})}function ra(e){var t=e.name,n=e.value,a=e.alignment;return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)(qt.a,{children:[Object(r.jsx)(Wt.a,{children:t}),Object(r.jsx)(Wt.a,{align:a,children:n})]})})}function ca(e){var t=e.properties,n=e.alignment,a=Object.keys(t).map((function(e){return[e,t[e]]}));return Object(r.jsx)(Pe.a,{children:Object(r.jsx)(Mt.a,{children:Object(r.jsx)(Ut.a,{children:a.map((function(e){return Object(r.jsx)(ra,{name:e[0],value:e[1],alignment:n},"component_".concat(e[0]))}))})})})}function sa(e){var t=e.title,n=e.button,a=e.device,i=e.channel,c={Name:a.name,"Serial Number":a.serialNumber,Channel:i};return Object(r.jsx)(Ie,{title:t,button:n,children:Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(ca,{properties:c})})})}ra.defaultProps={alignment:"left"},ca.defaultProps={alignment:"left"},sa.defaultProps={button:void 0};var oa=n(548);function la(e){var t=e.disabled,n=e.isLast,a=e.handleNext,i=e.handleClose,c=n?"Confirm":"Next",s=n?i:a;return Object(r.jsxs)(T.a,{size:"small",onClick:s,disabled:t,children:[c,Object(r.jsx)(oa.a,{})]})}var da=n(549);function ua(e){var t=e.isFirst,n=e.handleBack,a=e.handleClose,i=n,c=Object(r.jsx)(da.a,{}),s="Back";return t&&(i=a,s="Cancel",c=Object(r.jsx)(sn.a,{})),Object(r.jsxs)(T.a,{size:"small",onClick:i,children:[c,s]})}n(483);var ha=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={activeStep:0},a.steps=["Select a Device","Select a Channel","Confirm Device"],a.handleNext=a.handleNext.bind(Object(b.a)(a)),a.handleBack=a.handleBack.bind(Object(b.a)(a)),a.getNextButton=a.getNextButton.bind(Object(b.a)(a)),a.getBackButton=a.getBackButton.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleNext",value:function(){var e=this.state.activeStep;this.setState({activeStep:e+1})}},{key:"handleBack",value:function(){var e=this.state.activeStep;this.setState({activeStep:e-1})}},{key:"getNextButton",value:function(){var e=this.props.handleClose,t=this.state.activeStep,n=this.steps.length;return Object(r.jsx)(la,{disabled:this.disableNext(),isLast:t===n-1,handleClose:e,handleNext:this.handleNext})}},{key:"getBackButton",value:function(){var e=this.props.handleClose,t=this.state.activeStep;return Object(r.jsx)(ua,{isFirst:0===t,handleClose:e,handleBack:this.handleBack})}},{key:"disableNext",value:function(){var e=this.state.activeStep,t=this.props,n=t.deviceIndex,a=t.channelIndex;switch(e){case 0:return-1===n;case 1:return-1===a;default:return!1}}},{key:"render",value:function(){var e=this.props,t=e.deviceList,n=e.deviceIndex,a=e.setDeviceIndex,i=e.channelIndex,c=e.setChannelIndex,s=this.state.activeStep,o=this.steps.length;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(he.a,{children:this.steps[s]}),Object(r.jsxs)(Xn.a,{className:"halfScreenVertically",axis:"x",index:s,enableMouseEvents:!0,children:[Object(r.jsx)(aa,{selectedIndex:n,setIndex:a,deviceList:t}),-1===n?Object(r.jsx)(r.Fragment,{}):Object(r.jsx)(ia,{selectedIndex:i,setIndex:c,deviceIndex:n,deviceList:t}),-1===n||-1===i?Object(r.jsx)(r.Fragment,{}):Object(r.jsx)(sa,{title:"Preview",device:t[n],channel:t[n].channels[i].port})]}),Object(r.jsx)(Yn.a,{steps:o,position:"static",variant:"text",activeStep:s,nextButton:this.getNextButton(),backButton:this.getBackButton()})]})}}]),n}(s.a.Component),ja=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={open:!1},a.openDialog=a.openDialog.bind(Object(b.a)(a)),a.closeDialog=a.closeDialog.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"openDialog",value:function(){return this.setState({open:!0})}},{key:"closeDialog",value:function(){return this.setState({open:!1})}},{key:"render",value:function(){var e=this.state.open,t=this.props,n=t.deviceList,a=t.deviceIndex,i=t.setDeviceIndex,c=t.channelIndex,s=t.setChannelIndex;return Object(r.jsx)(Rn.a,{open:e,fullWidth:!0,maxWidth:"sm",onClose:this.closeDialog,"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",id:"dialog",children:Object(r.jsx)(ha,{handleClose:this.closeDialog,deviceList:n,deviceIndex:a,setDeviceIndex:i,channelIndex:c,setChannelIndex:s})})}}]),n}(s.a.Component);function ba(e){var t=e.title,n=e.openDialog,a=e.device,i=e.channelId,c=new we("",a,"Edit",n);return Object(r.jsx)(sa,{title:t,button:c,device:a,channel:i})}function pa(e){var t=e.title,n=e.onClick;return Object(r.jsx)(Ie,{title:t,children:Object(r.jsx)(Se.a,{item:!0,xs:4,children:Object(r.jsx)(T.a,{variant:"contained",color:"primary",onClick:n,children:"Select ".concat(t)})})})}function ma(e){var t=e.title,n=e.openDialog,a=e.deviceIndex,i=e.deviceList,c=e.channelIndex;return-1!==a&&-1!==c?Object(r.jsx)(ba,{title:t,openDialog:n,device:i[a],channelId:i[a].channels[c].port}):Object(r.jsx)(pa,{title:t,onClick:n})}var Oa=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).dialogElement=s.a.createRef(),a.openDialog=a.openDialog.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"openDialog",value:function(){this.dialogElement.current.openDialog()}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.deviceList,a=e.deviceIndex,i=e.setDeviceIndex,c=e.channelIndex,s=e.setChannelIndex;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ma,{title:t,openDialog:this.openDialog,deviceIndex:a,deviceList:n,channelIndex:c}),Object(r.jsx)(ja,{ref:this.dialogElement,deviceList:n,deviceIndex:a,setDeviceIndex:i,channelIndex:c,setChannelIndex:s})]})}}]),n}(s.a.Component),va=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={senders:[],receivers:[],senderDeviceIndex:-1,senderChannelIndex:-1,receiverDeviceIndex:-1,receiverChannelIndex:-1},a.createStream=a.createStream.bind(Object(b.a)(a)),a.setSenders=a.setSenders.bind(Object(b.a)(a)),a.setReceivers=a.setReceivers.bind(Object(b.a)(a)),a.setSenderDeviceIndex=a.setSenderDeviceIndex.bind(Object(b.a)(a)),a.setReceiverDeviceIndex=a.setReceiverDeviceIndex.bind(Object(b.a)(a)),a.setSenderChannelIndex=a.setSenderChannelIndex.bind(Object(b.a)(a)),a.setReceiverChannelIndex=a.setReceiverChannelIndex.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){kt(this.setSenders),St(this.setReceivers)}},{key:"setSenders",value:function(e){this.setState({senders:e})}},{key:"setReceivers",value:function(e){this.setState({receivers:e})}},{key:"setSenderDeviceIndex",value:function(e){this.setState({senderDeviceIndex:e,senderChannelIndex:-1})}},{key:"setReceiverDeviceIndex",value:function(e){this.setState({receiverDeviceIndex:e,receiverChannelIndex:-1})}},{key:"setSenderChannelIndex",value:function(e){this.setState({senderChannelIndex:e})}},{key:"setReceiverChannelIndex",value:function(e){this.setState({receiverChannelIndex:e})}},{key:"createStream",value:function(){var e=this.state,t=e.senders,n=e.receivers,a=e.senderDeviceIndex,i=e.senderChannelIndex,r=e.receiverDeviceIndex,c=e.receiverChannelIndex,s=n[r],o=t[a];if(s&&o){var l=s.channels[c],d=o.channels[i];l&&d&&ut(l.id,d.id).then((function(){ln("success","Successfully created stream!")})).catch((function(){ln("error","Failed to create stream")}))}}},{key:"render",value:function(){var e=this.state,t=e.senders,n=e.receivers,a=e.senderDeviceIndex,i=e.senderChannelIndex,c=e.receiverDeviceIndex,s=e.receiverChannelIndex;return Object(r.jsxs)(Se.a,{container:!0,justify:"center",alignItems:"stretch",direction:"row",spacing:3,children:[Object(r.jsx)(Se.a,{item:!0,xs:5,style:{margin:"auto"},children:Object(r.jsx)(Oa,{title:"Sender",deviceList:t,deviceIndex:a,setDeviceIndex:this.setSenderDeviceIndex,channelIndex:i,setChannelIndex:this.setSenderChannelIndex})}),Object(r.jsx)(Se.a,{item:!0,xs:2,style:{margin:"auto",textAlign:"center"},children:Object(r.jsx)(Qn.a,{style:{fontSize:100}})}),Object(r.jsx)(Se.a,{item:!0,xs:5,style:{margin:"auto"},children:Object(r.jsx)(Oa,{title:"Receiver",deviceList:n,deviceIndex:c,setDeviceIndex:this.setReceiverDeviceIndex,channelIndex:s,setChannelIndex:this.setReceiverChannelIndex})}),Object(r.jsx)(Se.a,{item:!0,xs:2,children:Object(r.jsx)(T.a,{variant:"contained",color:"primary",onClick:this.createStream,children:"Create Stream"})})]})}}]),n}(s.a.Component);function fa(){return Object(r.jsx)(de,{title:"Create a Stream",breadcrumbs:[["Home","/Home"],["Active Streams","/Streams"],["New Stream","/Streams/New"]],children:Object(r.jsx)(va,{})})}var xa=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={logs:[]},a.columns=[{title:"ID",field:"id",cellStyle:{width:"5%"}},{title:"Date",field:"dateTime",defaultSort:"desc",cellStyle:{width:"15%"}},{title:"Level",field:"level",cellStyle:{width:"10%"}},{title:"Message",field:"message",sorting:!1}],a.logsDataSource=e.logsDataSource,a.handleLogsChange=a.handleLogsChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){this.logsDataSource.getAllLogs().then(this.handleLogsChange).catch((function(e){ln("error","Failed to fetch logs: ".concat(e.message))}))}},{key:"handleLogsChange",value:function(e){this.setState({logs:e})}},{key:"render",value:function(){var e=this.state.logs;return Object(r.jsx)(mn,{logs:e,columns:this.columns})}}]),n}(s.a.Component);function ga(){return Object(r.jsx)(de,{title:"Logs",breadcrumbs:[["Home","/Home"],["Logs","/Logs"]],children:Object(r.jsx)(xa,{logsDataSource:i})})}var ya=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).dialogElement=s.a.createRef(),a.openDialog=a.openDialog.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"openDialog",value:function(){return this.dialogElement.current.openDialog()}},{key:"render",value:function(){var e=this.props,t=e.title,n=e.errorMessage;return Object(r.jsx)(Bn,{ref:this.dialogElement,title:t,isError:!0,children:n})}}]),n}(s.a.Component);function ka(){return(ka=Object(J.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Q.a.post("https://bean-pod-switchboard.herokuapp.com/user/sign-up",{username:t.username,password:t.password,userRole:"USER"},g()));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Sa=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={username:"",password:"",passwordErrorCondition:!1},a.onSubmit=a.onSubmit.bind(Object(b.a)(a)),a.setUsername=a.setUsername.bind(Object(b.a)(a)),a.setPassword=a.setPassword.bind(Object(b.a)(a)),a.setPasswordError=a.setPasswordError.bind(Object(b.a)(a)),a.passwordOnChange=a.passwordOnChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"onSubmit",value:function(e){var t=this.props.handleSubmit,n=this.state,a=n.username,i=n.password;e.preventDefault(),t(a,i)}},{key:"setUsername",value:function(e){this.setState({username:e})}},{key:"setPassword",value:function(e){this.setState({password:e})}},{key:"setPasswordError",value:function(e){var t=this.props.passwordError;t&&(e.length<t.upperbound&&e.length>t.lowerbound?this.setState({passwordErrorCondition:!0}):this.setState({passwordErrorCondition:!1}))}},{key:"passwordOnChange",value:function(e){this.setPassword(e),this.setPasswordError(e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.buttonName,a=t.isValidate,i=t.passwordInputProps,c=t.passwordHelperText,s=this.state.passwordErrorCondition;return Object(r.jsx)(Se.a,{container:!0,justify:"center",alignItems:"stretch",direction:"row",spacing:3,children:Object(r.jsx)(Se.a,{item:!0,xs:6,children:Object(r.jsx)(Ie,{title:"",children:Object(r.jsx)("div",{children:Object(r.jsxs)("form",{noValidate:!a,onSubmit:this.onSubmit,children:[Object(r.jsx)(fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(t){return e.setUsername(t.target.value)}}),Object(r.jsx)(fe.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",error:s,inputProps:i,helperText:c,autoComplete:"current-password",onChange:function(t){return e.passwordOnChange(t.target.value)}}),Object(r.jsx)(T.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",children:n})]})})})})})}}]),n}(s.a.Component);function Ca(e){var t=e.handleSubmit;return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(Sa,{handleSubmit:t,buttonName:"Create",isValidate:!0,passwordError:{upperbound:5,lowerbound:0},passwordInputProps:{maxLength:20,minLength:5},passwordHelperText:"Password must be between 5 to 20 characters"})})}Sa.defaultProps={isValidate:!1,passwordError:void 0,passwordInputProps:void 0,passwordHelperText:void 0};var wa=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={dialogMessage:""},a.dialogElement=s.a.createRef(),a.handleSubmit=a.handleSubmit.bind(Object(b.a)(a)),a.openDialog=a.openDialog.bind(Object(b.a)(a)),a.setDialogMessage=a.setDialogMessage.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"handleSubmit",value:function(e,t){var n=this;(function(e){return ka.apply(this,arguments)})({username:e,password:t}).then((function(){ln("success","User ".concat(e," successfully created!"))})).catch((function(e){n.openDialog(),n.setDialogMessage(e.message)}))}},{key:"setDialogMessage",value:function(e){this.setState({dialogMessage:e})}},{key:"openDialog",value:function(){this.dialogElement.current.openDialog()}},{key:"render",value:function(){var e=this.state.dialogMessage;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Ca,{handleSubmit:this.handleSubmit}),Object(r.jsx)(ya,{ref:this.dialogElement,title:"Failed to create user",errorMessage:e})]})}}]),n}(s.a.Component);function Da(){return Object(r.jsx)(de,{title:"Create a User",breadcrumbs:[["Home","/Home"],["Admin","/Admin"],["Create a User","/Admin/New"]],children:Object(r.jsx)(wa,{})})}function Ia(e){var t=e.cardTitle,n=e.device,a=e.channel,i=new we("/Devices/Details/".concat(n.serialNumber),{device:n},"View Device");return Object(r.jsx)(sa,{title:t,button:i,device:n,channel:a})}var Na=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).dialogElement=s.a.createRef(),a.confirmDelete=a.confirmDelete.bind(Object(b.a)(a)),a.openDialog=a.openDialog.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"confirmDelete",value:function(){var e=this.props,t=e.deleteId,n=e.history;this.dialogElement.current.closeDialog(),lt(t).then((function(){n.push("/Streams"),ln("success","Stream successfully deleted!")})).catch((function(){ln("error","Failed to delete stream")}))}},{key:"openDialog",value:function(){return this.dialogElement.current.openDialog()}},{key:"render",value:function(){var e=this.props.deleteId,t="Are you sure you want to end stream ".concat(e,"?"),n={name:"Confirm",onClick:this.confirmDelete};return Object(r.jsx)(Bn,{ref:this.dialogElement,title:"Confirm Delete",actionButton:n,children:t})}}]),n}(s.a.Component),Pa=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).dialogElement=s.a.createRef(),a.openDialog=a.openDialog.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"openDialog",value:function(){this.dialogElement.current.openDialog()}},{key:"render",value:function(){var e=this.props,t=e.deleteId,n=e.history;return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(tt.a,{title:"Delete Stream","aria-label":"delete stream",children:Object(r.jsx)(T.a,{variant:"contained",color:"secondary",startIcon:Object(r.jsx)(Nn.a,{}),onClick:this.openDialog,children:"Delete"})}),Object(r.jsx)(Na,{ref:this.dialogElement,deleteId:t,history:n})]})}}]),n}(s.a.Component),Ra=Object(u.h)(Pa),Ea=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={stats:null},a.stream=e.stream,a.handleStatsChange=a.handleStatsChange.bind(Object(b.a)(a)),a.getProperties=a.getProperties.bind(Object(b.a)(a)),a.getButton=a.getButton.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){jt(this.stream.id).then(this.handleStatsChange)}},{key:"handleStatsChange",value:function(e){this.setState({stats:e})}},{key:"getProperties",value:function(){var e=this.state.stats;return e?{Time:e.time,"Round-Trip-Time":e.link.rtt,"Packets Retransmitted":e.send.packetsRetransmitted,"Packets Dropped":e.send.packetsDropped}:{}}},{key:"getButton",value:function(){var e=this.state.stats,t=this.stream;return e?new we("/Streams/Details/".concat(t.id,"/Statistics"),{statistics:e,stream:t},"More Statistics"):null}},{key:"render",value:function(){return Object(r.jsx)(Ie,{title:"Statistics",button:this.getButton(),children:Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(ca,{properties:this.getProperties()})})})}}]),n}(s.a.Component),La=function(e){Object(p.a)(n,e);var t=Object(m.a)(n);function n(e){var a;return Object(h.a)(this,n),(a=t.call(this,e)).state={logs:[]},a.columns=[{title:"Date",field:"dateTime",defaultSort:"desc"},{title:"Level",field:"level"},{title:"Message",field:"message",sorting:!1}],a.dataSource=e.dataSource,a.handleStreamLogsChange=a.handleStreamLogsChange.bind(Object(b.a)(a)),a}return Object(j.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.streamId;this.dataSource.getStreamLogs(e).then(this.handleStreamLogsChange).catch((function(e){ln("error","Failed to fetch stream logs: ".concat(e.message))}))}},{key:"handleStreamLogsChange",value:function(e){this.setState({logs:e})}},{key:"render",value:function(){var e=this.state.logs;return Object(r.jsx)(mn,{logs:e,columns:this.columns})}}]),n}(s.a.Component);function Ba(e){var t=e.streamId;return Object(r.jsx)(Ie,{title:"Logs",children:Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(La,{dataSource:i,streamId:t})})})}function Ta(e){var t=e.stream;return Object(r.jsxs)(C.a,{children:[Object(r.jsxs)(Se.a,{container:!0,spacing:3,children:[Object(r.jsx)(Se.a,{item:!0,xs:6,children:Object(r.jsx)(Ia,{cardTitle:"Sender Details",device:t.sender,channel:t.outputChannel})}),Object(r.jsx)(Se.a,{item:!0,xs:6,children:Object(r.jsx)(Ia,{cardTitle:"Receiver Details",device:t.receiver,channel:t.inputChannel})}),Object(r.jsx)(Se.a,{item:!0,xs:7,children:Object(r.jsx)(Ba,{streamId:t.id})}),Object(r.jsx)(Se.a,{item:!0,xs:5,children:Object(r.jsx)(Ea,{stream:t})})]}),Object(r.jsx)(w.a,{className:"alignRightFloatPadded",children:Object(r.jsx)(Ra,{deleteId:t.id})})]})}function Fa(e){var t=e.location.state.stream,n=[["Home","/Home"],["Active Streams","/Streams"],["Stream Details","/Streams/Details/".concat(t.id),{stream:t}]];return Object(r.jsx)(de,{title:"Stream Details",breadcrumbs:n,children:Object(r.jsx)(Ta,{stream:t})})}function Aa(){return Object(r.jsx)(de,{title:"Error 404: Path not found",breadcrumbs:[],children:Object(r.jsx)(Se.a,{container:!0,justify:"center",direction:"row",spacing:3,children:Object(r.jsx)(Se.a,{item:!0,xs:6,children:Object(r.jsx)(Ie,{title:"Sorry, that page doesn't exist!",children:y()?Object(r.jsx)(Ne,{href:"/Home",children:"Go Home"}):Object(r.jsx)(Ne,{href:"/Login",children:"Go to Login"})})})})})}function Ma(e){var t=e.stats,n={"Stream ID":t.id,Time:t.time,Flow:t.window.flow,Congestion:t.window.congestion,Flight:t.window.flight,Latency:t.link.rtt,Bandwidth:t.link.bandwidth,"Maximum Bandwidth":t.link.maxBandwidth};return Object(r.jsx)(Ie,{title:"Overview",children:Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(ca,{properties:n})})})}function Ha(e){var t=e.stats,n={Packets:t.send.packets,"Packets Lost":t.send.packetsLost,"Packets Dropped":t.send.packetsDropped,"Packets Retransmitted":t.send.packetsRetransmitted,Bytes:t.send.bytes,"Bytes Dropped":t.send.bytesDropped,"Bitrate (Mbps)":t.send.mbitRate};return Object(r.jsx)(r.Fragment,{children:Object(r.jsx)(Ie,{title:"Sending Statistics",children:Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(ca,{properties:n})})})})}function Ua(e){var t=e.stats,n={Packets:t.receive.packets,"Packets Lost":t.receive.packetsLost,"Packets Dropped":t.receive.packetsDropped,"Packets Retransmitted":t.receive.packetsRetransmitted,"Packets Belated":t.receive.packetsBelated,Bytes:t.receive.bytes,"Bytes Lost":t.receive.bytesLost,"Bytes Dropped":t.receive.bytesDropped,"Bitrate (Mbps)":t.receive.mbitRate};return Object(r.jsx)(Ie,{title:"Receiving Statistics",children:Object(r.jsx)(Se.a,{item:!0,xs:12,children:Object(r.jsx)(ca,{properties:n})})})}function qa(e){var t=e.statistics;return Object(r.jsxs)(Se.a,{container:!0,spacing:3,children:[Object(r.jsx)(Se.a,{item:!0,xs:4,children:Object(r.jsx)(Ma,{stats:t})}),Object(r.jsx)(Se.a,{item:!0,xs:4,children:Object(r.jsx)(Ha,{stats:t})}),Object(r.jsx)(Se.a,{item:!0,xs:4,children:Object(r.jsx)(Ua,{stats:t})})]})}function Wa(e){var t=e.location.state,n=t.statistics,a=t.stream,i=[["Home","/Home"],["Active Streams","/Streams"],["Stream Details","/Streams/Details/".concat(a.id),{stream:a}],["Statistics","/Streams/Details/".concat(a.id,"/Statistics"),{statistics:n,stream:a}]];return Object(r.jsx)(de,{title:"Stream Statistics",breadcrumbs:i,children:Object(r.jsx)(qa,{statistics:n})})}function Va(){return Object(r.jsxs)(d.a,{children:[Object(r.jsxs)(u.d,{children:[Object(r.jsx)(S,{path:"/Login",render:function(){return Object(r.jsx)(ke,{})}}),Object(r.jsx)(S,{path:"/Home",authenticationRequired:!0,render:function(){return Object(r.jsx)(gt,{})}}),Object(r.jsx)(S,{path:"/Devices/Details/:serialNumber",authenticationRequired:!0,render:function(e){return Object(r.jsx)(_n,{location:e})}}),Object(r.jsx)(S,{path:"/Devices",authenticationRequired:!0,render:function(){return Object(r.jsx)(Qt,{})}}),Object(r.jsx)(S,{path:"/Streams/New",authenticationRequired:!0,render:function(){return Object(r.jsx)(fa,{})}}),Object(r.jsx)(S,{path:"/Streams/Details/:streamId/Statistics",authenticationRequired:!0,render:function(e){return Object(r.jsx)(Wa,{location:e})}}),Object(r.jsx)(S,{path:"/Streams/Details/:streamId",authenticationRequired:!0,render:function(e){return Object(r.jsx)(Fa,{location:e})}}),Object(r.jsx)(S,{path:"/Streams",authenticationRequired:!0,render:function(){return Object(r.jsx)(Kn,{})}}),Object(r.jsx)(S,{path:"/Logs",authenticationRequired:!0,render:function(){return Object(r.jsx)(ga,{})}}),Object(r.jsx)(S,{path:"/Admin/New",authenticationRequired:!0,render:function(){return Object(r.jsx)(Da,{})}}),Object(r.jsx)(u.b,{path:"/",children:Object(r.jsx)(Aa,{})})]}),Object(r.jsx)(on,{})]})}l.a.render(Object(r.jsx)(Va,{}),document.getElementById("root"))}},[[484,1,2]]]);
//# sourceMappingURL=main.ef373b64.chunk.js.map