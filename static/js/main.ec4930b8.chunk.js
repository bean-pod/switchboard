(this.webpackJsonpswitchboard_frontend=this.webpackJsonpswitchboard_frontend||[]).push([[0],{315:function(e,t,n){},379:function(e,t,n){},461:function(e,t,n){"use strict";n.r(t);var a={};n.r(a),n.d(a,"getStream",(function(){return ge})),n.d(a,"getAllStreams",(function(){return Se})),n.d(a,"deleteStream",(function(){return Ce}));var r={};n.r(r),n.d(r,"getSenders",(function(){return ot})),n.d(r,"getReceivers",(function(){return dt})),n.d(r,"deleteDevice",(function(){return ut})),n.d(r,"updateDeviceName",(function(){return ht}));var i={};n.r(i),n.d(i,"default",(function(){return Ct}));var c={};n.r(c),n.d(c,"getAllLogs",(function(){return It})),n.d(c,"getDeviceLogs",(function(){return Tt}));var s=n(2),l=n(0),o=n.n(l),d=n(20),u=n.n(d),h=(n(379),n(68)),j=n(33),b=n(15),m=n(19),O=n(22),p=n(21),v=n(312),f=n(482),g=n(313),x=n(241),S=n(483),y=n(484),C=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).classes=Object(v.a)((function(e){return{menuButton:{marginRight:e.spacing(2)}}})),a}return Object(m.a)(n,[{key:"render",value:function(){return Object(s.jsx)("div",{className:"headerBar",children:Object(s.jsx)(f.a,{position:"static",children:Object(s.jsxs)(g.a,{className:"darkGrey",children:[Object(s.jsxs)("div",{className:"headerTitle",children:[Object(s.jsx)(h.b,{to:"/",className:"headerTitle",children:Object(s.jsx)(x.a,{edge:"start",className:this.classes.menuButton,color:"inherit","aria-label":"menu",children:Object(s.jsx)(S.a,{})})}),"Switchboard"]}),Object(s.jsx)(x.a,{id:"acctBtn",color:"inherit",children:Object(s.jsx)(y.a,{})})]})})})}}]),n}(o.a.Component),w=n(487),k=n(236),D=n(515),N=n(485),E=n(78);function P(e){var t=e.breadcrumbs;return Object(s.jsx)(k.a,{padding:"2em 0em 0em 1em",children:Object(s.jsx)(D.a,{"aria-label":"breadcrumb",id:"breadcrumbParent",children:t.map((function(e,t){return Object(s.jsx)(N.a,{color:"inherit",href:e[1],id:"breadcrumb".concat(t),children:Object(s.jsx)(E.a,{color:"textPrimary",children:e[0]})},"breadcrumb ".concat(e[0]))}))})})}var R=n(5),I=n(314),A=n(486);function T(e){var t=e.type,n=Object(R.a)({root:{background:"linear-gradient(45deg, #59bc31 30%, #59bc31 90%)",borderRadius:90,border:0,color:"white",height:40,padding:"0 5px",margin:"1em"},label:{textTransform:""}})(I.a);return Object(s.jsx)(n,{type:t,children:Object(s.jsxs)("div",{className:"buttonText",children:[Object(s.jsx)(A.a,{}),"Stream"]})})}function L(){return Object(s.jsx)("div",{className:"alignRightFloat",children:Object(s.jsx)(h.b,{to:"/Streaming",activeClassName:"hideLinkStyle",className:"hideLinkStyle",exact:!0,children:Object(s.jsx)(T,{type:"submit"})})})}function F(e){var t=e.title,n=e.deviceList;return Object(s.jsxs)(k.a,{className:"flexContents headerAreaUnderline",children:[Object(s.jsx)("div",{className:"title",children:t}),n?Object(s.jsx)(L,{}):Object(s.jsx)(s.Fragment,{})]})}function _(e){var t=e.breadcrumbs,n=e.title,a=e.deviceList,r=e.children;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(C,{}),Object(s.jsxs)(w.a,{children:[Object(s.jsx)(P,{breadcrumbs:t}),Object(s.jsx)(F,{title:n,deviceList:a}),r]})]})}_.defaultProps={deviceList:!1};var B=n(488);function H(e){var t=e.width,n=e.spacing,a=e.children;return Object(s.jsx)(B.a,{item:!0,xs:t,children:Object(s.jsx)(B.a,{container:!0,spacing:n,children:a})})}H.defaultProps={spacing:3};n(315);var V=n(161);function M(e){var t=e.title,n=e.children;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(V.a,{className:"dashboardCard",elevation:2,children:[Object(s.jsx)(E.a,{variant:"h5",gutterBottom:!0,children:t}),n]})})}function W(e){var t=e.href,n=e.children,a=Object(R.a)({root:{background:"linear-gradient(45deg, #59bc31 30%, #59bc31 90%)",borderRadius:90,border:0,color:"white",height:40,minWidth:100,maxWidth:200,padding:"0 5px",textTransform:"none"}})(I.a);return Object(s.jsx)(N.a,{color:"inherit",href:t,children:Object(s.jsx)(a,{children:n})})}M.defaultProps={children:""};var G=n(18),U=n(500),K=n(502),Z=n(503),z=n(504),q=n(505),J=n(506),Q=n(507),X=n(508),Y=n(97),$=n.n(Y),ee=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"getStatusStyle",value:function(){switch(this.props.status){case"Online":return"green statusIndicatorBody statusTextOnline ";case"Pending":return"yellow statusIndicatorBody statusTextOnline";case"Error":return"red statusIndicatorBody statusTextOnline";default:return"lightGrey statusIndicatorBody statusTextOffline"}}},{key:"render",value:function(){var e=this.props.status;return Object(s.jsx)("div",{className:this.getStatusStyle(),children:e})}}]),n}(o.a.Component),te=n(320),ne=n(501),ae=n(359),re=n.n(ae),ie=n(499),ce=n(493),se=n(498);function le(e){var t=e.children;return Object(s.jsx)(ce.a,{children:Object(s.jsx)(se.a,{id:"dialog-description",children:t})})}var oe=n(494);function de(e){var t=e.button1,n=e.button2;return Object(s.jsxs)(oe.a,{children:[Object(s.jsx)(I.a,{onClick:t.onClick,color:"primary",children:t.name}),Object(s.jsx)(I.a,{onClick:n.onClick,color:"secondary",autoFocus:!0,children:n.name})]})}var ue=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={open:!1},a.openDialog=a.openDialog.bind(Object(G.a)(a)),a.closeDialog=a.closeDialog.bind(Object(G.a)(a)),a}return Object(m.a)(n,[{key:"openDialog",value:function(){return this.setState({open:!0})}},{key:"closeDialog",value:function(){return this.setState({open:!1})}},{key:"render",value:function(){var e=this,t={name:"Cancel",onClick:this.closeDialog},n=this.props,a=n.title,r=n.actionButton,i=n.children,c=this.state.open;return Object(s.jsxs)(re.a,{open:c,onClose:function(){return e.closeDialog},"aria-labelledby":"dialog-title","aria-describedby":"dialog-description",id:"dialog",children:[Object(s.jsx)(ie.a,{children:a}),Object(s.jsx)(le,{children:i}),Object(s.jsx)(de,{button1:t,button2:r})]})}}]),n}(o.a.Component),he=n(35),je=n.n(he),be=n(73),me=n(61),Oe=n.n(me),pe=function(){function e(t,n,a,r,i,c,s,l,o){Object(b.a)(this,e),this.serialNumber=t,this.lastCommunication=n,this.publicIp=a,this.privateIp=r,this.name=i,this.status=c,this.channels=s,this.deviceType=l,this.extras=o}return Object(m.a)(e,null,[{key:"getConciseProperties",value:function(){return["name","serialNumber","status","publicIp","privateIp","channels"]}}]),e}();function ve(e){return new pe(e.serialNumber,e.lastCommunication,e.device.publicIpAddress,e.device.privateIpAddress,e.device.displayName,e.device.status,e.inputs||e.outputs,e.inputs?"receiver":"sender")}var fe=function e(t,n,a,r){Object(b.a)(this,e),this.id=t,this.date=new Date("2020-10-31T08:15:30").toString().split(" ").slice(0,5).join(" "),this.sender=n,this.receiver=a,this.status="Online",this.type="Type 1",this.time="00:34:44",this.extras=r};function ge(e){return xe.apply(this,arguments)}function xe(){return(xe=Object(be.a)(je.a.mark((function e(t){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oe.a.get("".concat("https://bean-pod-switchboard.herokuapp.com/stream","/").concat(t)).then((function(e){var t=e.data;return new fe(t.id,ve(t.outputChannel.encoder),ve(t.inputChannel.decoder),["Additional stream info goes here."])})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Se(){return ye.apply(this,arguments)}function ye(){return(ye=Object(be.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oe.a.get("https://bean-pod-switchboard.herokuapp.com/stream").then((function(e){return Promise.all(e.data.map((function(e){return ge(e)})))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Ce(e){return we.apply(this,arguments)}function we(){return(we=Object(be.a)(je.a.mark((function e(t){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oe.a.delete("".concat("https://bean-pod-switchboard.herokuapp.com/stream","/").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var ke=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).dialogElement=o.a.createRef(),a.confirmDelete=a.confirmDelete.bind(Object(G.a)(a)),a.openDialog=a.openDialog.bind(Object(G.a)(a)),a}return Object(m.a)(n,[{key:"afterDelete",value:function(){var e=this.props.history;this.dialogElement.current.closeDialog(),e.push("/Streaming"),e.go(0)}},{key:"confirmDelete",value:function(){Ce(this.props.deleteId).finally(this.afterDelete())}},{key:"openDialog",value:function(){return this.dialogElement.current.openDialog()}},{key:"render",value:function(){var e=this.props.deleteId,t="Are you sure you want to end stream ".concat(e,"?"),n={name:"Confirm",onClick:this.confirmDelete};return Object(s.jsx)(ue,{ref:this.dialogElement,title:"Confirm Delete",actionButton:n,children:t})}}]),n}(o.a.Component),De=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).dialogElement=o.a.createRef(),a.openDialog=a.openDialog.bind(Object(G.a)(a)),a}return Object(m.a)(n,[{key:"openDialog",value:function(){this.dialogElement.current.openDialog()}},{key:"render",value:function(){var e=this.props,t=e.deleteId,n=e.history;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(te.a,{title:"Delete Stream","aria-label":"delete stream",children:Object(s.jsx)(x.a,{onClick:this.openDialog,children:Object(s.jsx)(ne.a,{})})}),Object(s.jsx)(ke,{ref:this.dialogElement,deleteId:t,history:n})]})}}]),n}(o.a.Component),Ne=Object(j.g)(De),Ee=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).columnInfo=[{title:"ID",field:"id"},{title:"Date",field:"date"},{title:"Sender",field:"sender.name"},{title:"Receiver",field:"receiver.name"},{title:"Status",field:"status",render:function(e){return Object(s.jsx)(ee,{status:e.status})}},{title:"Type",field:"type"},{title:"Time Elapsed",field:"time"},{title:"Actions",field:"action",filtering:!1,sorting:!1,render:function(e){return Object(s.jsx)(Ne,{deleteId:e.id})},align:"center",export:!1}],a.detailPanel=[{icon:K.a,openIcon:Z.a,tooltip:"Show Stream Details",render:function(e){return Object(s.jsx)("div",{className:"lightestGrey",children:Object(s.jsx)(E.a,{variant:"h6",children:e.extras})})}}],a.options={toolbar:!1,headerStyle:{backgroundColor:"#f1f1f1",fontWeight:"bold"},filtering:!1,draggable:!1},a.icons={SortArrow:z.a,FirstPage:q.a,LastPage:J.a,NextPage:Q.a,PreviousPage:X.a},a}return Object(m.a)(n,[{key:"getColumnInfo",value:function(){return this.columnInfo}},{key:"getDetailPanel",value:function(){return this.detailPanel}},{key:"getOptions",value:function(){return this.options}},{key:"getIcons",value:function(){return this.icons}},{key:"render",value:function(){var e=this.props.streams;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(k.a,{children:[Object(s.jsx)(U.a,{children:Object(s.jsx)($.a,{columns:this.getColumnInfo(),data:e,detailPanel:this.getDetailPanel(),options:this.getOptions(),icons:this.getIcons()})}),Object(s.jsx)("div",{className:"textAlignRightPadded",children:"Time Zone: ".concat(Intl.DateTimeFormat().resolvedOptions().timeZone)})]})})}}]),n}(o.a.Component),Pe=function e(t,n,a,r){Object(b.a)(this,e),this.id=t,this.name=n,this.port=a,this.encoder=r},Re=function e(t,n,a,r){Object(b.a)(this,e),this.id=t,this.name=n,this.port=a,this.decoder=r},Ie=function e(t,n,a,r){Object(b.a)(this,e),this.id=t,this.dateTime=new Date(n).toString().split(" ").slice(0,5).join(" "),this.level=a,this.message=r},Ae=["Additional Device details go here"],Te=[new Re(1,"Input ch 1",500,null),new Re(2,"Input ch 2",456,null),new Re(3,"Input ch 3",800,null)],Le=[new Pe(1,"Output ch 1",500,null),new Pe(2,"Output ch 2",456,null),new Pe(3,"Output ch 3",800,null)];function Fe(e){var t=[new Date("2020-10-31T15:53:23"),new Date("2020-11-13T12:36:30"),new Date("2020-11-13T08:24:30")];e([new Ie(1,t[0],"Info","Log 1 info"),new Ie(2,t[1],"Info","Log 2 info"),new Ie(3,t[2],"Info","Log 3 info")])}var _e=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={streams:[]},a.dataSource=e.dataSource,a.handleStreamsChange=a.handleStreamsChange.bind(Object(G.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this;this.dataSource.getAllStreams().then(this.handleStreamsChange).catch((function(){e.handleStreamsChange(function(){var e=[new pe("1:10:111:999",null,"175.214.12.96","123:456","Sender 1","Online",Le,"encoder",Ae),new pe("1:20:111:999",null,"175.214.12.96","123:456","Sender 2","Error",Le,"encoder",Ae)],t=[new pe("1:01:111:999",null,"175.214.12.96","123:456","Receiver 1","Online",Te,"decoder",Ae),new pe("1:02:111:999",null,"175.214.12.96","123:456","Receiver 2","Error",Te,"decoder",Ae)];return[new fe(1,e[0],t[0],["Additional Stream Details go here"]),new fe(2,e[1],t[1],["Additional Stream Details go here"]),new fe(3,e[1],t[0],["Additional Stream Details go here"])]}())}))}},{key:"handleStreamsChange",value:function(e){this.setState({streams:e})}},{key:"render",value:function(){var e=this.state.streams;return Object(s.jsx)(Ee,{streams:e})}}]),n}(o.a.Component);function Be(){var e=a;return Object(s.jsx)(M,{title:"Active Streams",style:{height:"100%"},children:Object(s.jsxs)(B.a,{container:!0,justify:"center",direction:"row",spacing:3,children:[Object(s.jsx)(B.a,{item:!0,xs:12,children:Object(s.jsx)(_e,{dataSource:e})}),Object(s.jsx)(B.a,{item:!0,xs:4,children:Object(s.jsx)(W,{href:"/Streaming",children:"See more"})}),Object(s.jsx)(B.a,{item:!0,xs:4,children:Object(s.jsx)(W,{href:"/Streaming/New",children:"Start Stream"})})]})})}function He(){return Object(s.jsx)(M,{title:"Activity Logs",children:Object(s.jsx)(B.a,{container:!0,justify:"center",direction:"row",spacing:3,children:Object(s.jsx)(B.a,{item:!0,xs:4,children:Object(s.jsx)(W,{href:"/Logs",children:"View All"})})})})}function Ve(){return Object(s.jsx)(M,{title:"Devices",children:Object(s.jsxs)(B.a,{container:!0,justify:"center",direction:"row",spacing:3,children:[Object(s.jsx)(B.a,{item:!0,xs:4,children:Object(s.jsx)(W,{href:"/Devices",children:"View Senders"})}),Object(s.jsx)(B.a,{item:!0,xs:4,children:Object(s.jsx)(W,{href:"/Devices",children:"View Receivers"})})]})})}function Me(){return Object(s.jsx)(M,{title:"Admin Panel",children:Object(s.jsxs)(B.a,{container:!0,justify:"center",direction:"row",spacing:3,children:[Object(s.jsx)(B.a,{item:!0,xs:4,children:Object(s.jsx)(W,{href:"/Admin",children:"View Users"})}),Object(s.jsx)(B.a,{item:!0,xs:4,children:Object(s.jsx)(W,{href:"/Admin",children:"Create a User"})})]})})}function We(){return Object(s.jsxs)(B.a,{container:!0,justify:"center",alignItems:"stretch",direction:"row",spacing:3,children:[Object(s.jsx)(B.a,{item:!0,xs:6,children:Object(s.jsx)(B.a,{style:{height:"100%"},children:Object(s.jsx)(Be,{})})}),Object(s.jsxs)(H,{width:6,children:[Object(s.jsx)(B.a,{item:!0,xs:12,children:Object(s.jsx)(Ve,{})}),Object(s.jsx)(B.a,{item:!0,xs:12,children:Object(s.jsx)(He,{})}),Object(s.jsx)(B.a,{item:!0,xs:12,children:Object(s.jsx)(Me,{})})]})]})}function Ge(e){var t=e.children,n=e.value,a=e.index;return Object(s.jsx)("div",{role:"tabpanel",hidden:n!==a,id:"vertical-tabpanel-".concat(a),"aria-labelledby":"vertical-tab-".concat(a),children:n===a&&Object(s.jsx)(k.a,{p:0,children:Object(s.jsx)(E.a,{component:"span",children:t})})})}var Ue=n(360),Ke=n(510),Ze=n(511),ze=n(512),qe=n(513),Je=n(337),Qe=n(335),Xe=n(323),Ye=n(324),$e=n(318);function et(){return Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)($e.a,{className:"lightGrey",children:"ID"}),Object(s.jsx)($e.a,{className:"lightGrey",children:"Name"}),Object(s.jsx)($e.a,{className:"lightGrey",children:"Port"})]})}function tt(e){var t=e.channel,n=t.id,a=t.name,r=t.port;return Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)($e.a,{children:n}),Object(s.jsx)($e.a,{children:a}),Object(s.jsx)($e.a,{children:r})]})}function nt(e){var t=e.channels;return Object(s.jsxs)(Je.a,{className:"flexContents",children:[Object(s.jsx)(Qe.a,{children:Object(s.jsx)(et,{})}),Object(s.jsx)(Xe.a,{children:t.map((function(e){return Object(s.jsx)(tt,{channel:e},e.name)}))})]})}var at=n(192),rt=n(319),it=n(509),ct=n(164),st=n(492);function lt(e){if(!e)return"Pending";var t=new Date("".concat(e,"Z"));return Date.now()-t.getTime()<6e5?"Online":"Offline"}function ot(e){Oe.a.get("https://bean-pod-switchboard.herokuapp.com/encoder").then((function(t){e(t.data.map((function(e){var t=[];e.output&&(t=e.output.map((function(e){return new Pe(e.id,e.channel.name,e.channel.port,null)})));var n=null==e.lastCommunication?"Never":e.lastCommunication;return new pe(e.serialNumber,n,e.device.publicIpAddress,e.device.privateIpAddress,e.device.displayName,lt(e.lastCommunication),t,"encoder",["Additional Device details go here"])})))})).catch((function(){!function(e){e([new pe("1:10:111:999",null,"175.214.12.96","123:456","Sender 1","Online",Le,"encoder",Ae),new pe("1:20:111:999",null,"175.214.12.96","123:456","Sender 2","Error",Le,"encoder",Ae),new pe("1:30:111:999",null,"175.214.12.96","123:456","Sender 3","Offline",Le,"encoder",Ae),new pe("1:40:111:999",null,"175.214.12.96","123:456","Sender 4","Pending",Le,"encoder",Ae),new pe("1:50:111:999",null,"175.214.12.96","123:456","Sender 5","Online",Le,"encoder",Ae),new pe("1:60:111:999",null,"175.214.12.96","123:456","Sender 6","Error",Le,"encoder",Ae),new pe("1:70:111:999",null,"175.214.12.96","123:456","Sender 7","Offline",Le,"encoder",Ae),new pe("1:80:111:999",null,"175.214.12.96","123:456","Sender 8","Pending",Le,"encoder",Ae),new pe("1:90:111:999",null,"175.214.12.96","123:456","Sender 9","Online",Le,"encoder",Ae)])}(e)}))}function dt(e){Oe.a.get("https://bean-pod-switchboard.herokuapp.com/decoder").then((function(t){e(t.data.map((function(e){var t=[];e.input&&(t=e.input.map((function(e){return new Re(e.id,e.channel.name,e.channel.port,null)})));var n=null==e.lastCommunication?"Never":e.lastCommunication;return new pe(e.serialNumber,n,e.device.publicIpAddress,e.device.privateIpAddress,e.device.displayName,lt(e.lastCommunication),t,"decoder",["Additional Device details go here"])})))})).catch((function(){!function(e){e([new pe("1:01:111:999",null,"175.214.12.96","123:456","Receiver 1","Online",Te,"decoder",Ae),new pe("1:02:111:999",null,"175.214.12.96","123:456","Receiver 2","Error",Te,"decoder",Ae),new pe("1:03:111:999",null,"175.214.12.96","123:456","Receiver 3","Offline",Te,"decoder",Ae),new pe("1:04:111:999",null,"175.214.12.96","123:456","Receiver 4","Pending",Te,"decoder",Ae),new pe("1:05:111:999",null,"175.214.12.96","123:456","Receiver 5","Online",Te,"decoder",Ae),new pe("1:06:111:999",null,"175.214.12.96","123:456","Receiver 6","Error",Te,"decoder",Ae),new pe("1:07:111:999",null,"175.214.12.96","123:456","Receiver 7","Offline",Te,"decoder",Ae),new pe("1:08:111:999",null,"175.214.12.96","123:456","Receiver 8","Pending",Te,"decoder",Ae),new pe("1:09:111:999",null,"175.214.12.96","123:456","Receiver 9","Online",Te,"decoder",Ae),new pe("1:11:111:999",null,"175.214.12.96","123:456","Receiver 11","Online",Te,"decoder",Ae),new pe("1:21:111:999",null,"175.214.12.96","123:456","Receiver 12","Error",Te,"decoder",Ae),new pe("1:31:111:999",null,"175.214.12.96","123:456","Receiver 13","Offline",Te,"decoder",Ae),new pe("1:41:111:999",null,"175.214.12.96","123:456","Receiver 14","Pending",Te,"decoder",Ae),new pe("1:51:111:999",null,"175.214.12.96","123:456","Receiver 15","Online",Te,"decoder",Ae),new pe("1:61:111:999",null,"175.214.12.96","123:456","Receiver 16","Error",Te,"decoder",Ae),new pe("1:71:111:999",null,"175.214.12.96","123:456","Receiver 17","Offline",Te,"decoder",Ae),new pe("1:81:111:999",null,"175.214.12.96","123:456","Receiver 18","Pending",Te,"decoder",Ae),new pe("1:91:111:999",null,"175.214.12.96","123:456","Receiver 19","Online",Te,"decoder",Ae)])}(e)}))}function ut(e){return Oe.a.delete("".concat(Object({NODE_ENV:"production",PUBLIC_URL:"/Home",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENCODER:"https://bean-pod-switchboard.herokuapp.com/encoder",REACT_APP_DECODER:"https://bean-pod-switchboard.herokuapp.com/decoder",REACT_APP_STREAM:"https://bean-pod-switchboard.herokuapp.com/stream",REACT_APP_LOGS:"https://bean-pod-switchboard.herokuapp.com/logs"}).REACT_APP_DEVICE,"/").concat(e)).catch((function(){}))}function ht(e,t){return jt.apply(this,arguments)}function jt(){return(jt=Object(be.a)(je.a.mark((function e(t,n){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oe.a.put(Object({NODE_ENV:"production",PUBLIC_URL:"/Home",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0,REACT_APP_ENCODER:"https://bean-pod-switchboard.herokuapp.com/encoder",REACT_APP_DECODER:"https://bean-pod-switchboard.herokuapp.com/decoder",REACT_APP_STREAM:"https://bean-pod-switchboard.herokuapp.com/stream",REACT_APP_LOGS:"https://bean-pod-switchboard.herokuapp.com/logs"}).REACT_APP_DEVICE,{serialNumber:t,displayName:n}).catch((function(){})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function bt(e){return Object(s.jsx)(I.a,{id:"deleteBtn",variant:"outlined",color:"secondary",onClick:e,children:"Delete"})}function mt(e){return Object(s.jsx)(rt.a,{onClick:e,children:Object(s.jsx)("span",{className:"warningText",children:"Delete"})})}function Ot(e){var t=e.button,n=e.deleteId,a=o.a.useState(!1),r=Object(ct.a)(a,2),i=r[0],c=r[1],l=Object(j.f)(),d=function(){return c(!0)},u=function(){return c(!1)};return Object(s.jsxs)(s.Fragment,{children:[t?bt(d):mt(d),Object(s.jsxs)(st.a,{open:i,onClose:u,"aria-labelledby":"delete-stream-dialog-title","aria-describedby":"delete-stream-dialog-description",id:"delete-stream-dialog",children:[Object(s.jsx)(ie.a,{id:"delete-stream-dialog-title",children:"Confirm Delete"}),Object(s.jsx)(ce.a,{children:Object(s.jsx)(se.a,{id:"delete-stream-dialog-description",children:"Are you sure you want to delete this device?"})}),Object(s.jsxs)(oe.a,{children:[Object(s.jsx)(I.a,{id:"cancelDeleteBtn",onClick:u,color:"primary",children:"Cancel"}),Object(s.jsx)(I.a,{id:"confirmDeleteBtn",onClick:function(){return ut(n).then((function(){l.location.pathname.endsWith("Devices")?l.go(0):l.push("/Devices")})),c(!1)},color:"secondary",autoFocus:!0,children:"Delete"})]})]})]})}var pt=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={anchorElement:null},a.setAnchorElement=a.setAnchorElement.bind(Object(G.a)(a)),a.handleClick=a.handleClick.bind(Object(G.a)(a)),a.handleClose=a.handleClose.bind(Object(G.a)(a)),a}return Object(m.a)(n,[{key:"handleClick",value:function(e){this.setAnchorElement(e.currentTarget)}},{key:"handleClose",value:function(){this.setAnchorElement(null)}},{key:"setAnchorElement",value:function(e){this.setState({anchorElement:e})}},{key:"render",value:function(){var e=this.state.anchorElement,t=this.props.device;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(x.a,{"aria-controls":"simple-menu","aria-haspopup":"true",onClick:this.handleClick,size:"small",children:Object(s.jsx)(it.a,{})}),Object(s.jsxs)(at.a,{id:"simple-menu",anchorEl:e,keepMounted:!0,open:Boolean(e),onClose:this.handleClose,anchorOrigin:{horizontal:"right",vertical:"top"},transformOrigin:{horizontal:"right",vertical:"top"},children:[Object(s.jsx)(rt.a,{onClick:this.handleClose,children:Object(s.jsx)(h.b,{to:{pathname:"/Devices/Details/".concat(t.name),state:{device:t}},className:"hideLinkStyle",children:"View Details"})}),Object(s.jsx)(rt.a,{onClick:this.handleClose,children:"Start stream with this as receiver"}),Object(s.jsx)(Ot,{button:!1,deleteId:t.serialNumber})]})]})}}]),n}(o.a.Component);function vt(){return[{title:"Name",field:"name",render:function(e){return t=e,Object(s.jsx)(h.b,{to:{pathname:"/Devices/Details/".concat(t.name),state:{device:t}},children:t.name});var t}},{title:"Serial Number",field:"serialNumber"},{title:"Status",field:"status",render:function(e){return Object(s.jsx)(ee,{status:e.status})},lookup:{Online:"Online",Pending:"Pending",Error:"Error",Offline:"Offline"}},{title:"Private IP Address",field:"privateIp"},{title:"Public IP Address",field:"publicIp"},{title:"Actions",field:"action",filtering:!1,sorting:!1,render:function(e){return Object(s.jsx)(pt,{device:e})},align:"center",export:!1}]}function ft(e){var t=e.title,n=e.devices;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(k.a,{children:Object(s.jsx)(U.a,{style:{maxHeight:570},children:Object(s.jsx)($.a,{title:t,components:{Toolbar:function(e){return Object(s.jsx)("div",{className:"lightestGrey",children:Object(s.jsx)(Y.MTableToolbar,Object(Ue.a)({},e))})}},columns:vt(),data:n,detailPanel:[{icon:K.a,openIcon:Z.a,tooltip:"Show Device Details",render:function(e){return Object(s.jsxs)("div",{className:"lightestGrey",style:{padding:"1.5em"},children:[Object(s.jsx)(E.a,{variant:"h6",children:"Channels"}),Object(s.jsx)(nt,{channels:e.channels})]})}}],options:{toolbar:!0,search:!0,exportButton:!0,headerStyle:{backgroundColor:"#f1f1f1",fontWeight:"bold"},filtering:!0,draggable:!1},icons:{Filter:Ke.a,Search:Ze.a,ResetSearch:ze.a,SortArrow:z.a,Export:qe.a,FirstPage:q.a,LastPage:J.a,NextPage:Q.a,PreviousPage:X.a}})})})})}var gt=n(514),xt=n(496),St=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).handleChange=a.handleChange.bind(Object(G.a)(a)),a}return Object(m.a)(n,[{key:"handleChange",value:function(e,t){(0,this.props.setValue)(t)}},{key:"render",value:function(){var e=this.props,t=e.value,n=e.classes.tabs;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(gt.a,{value:t,onChange:this.handleChange,"aria-label":"Vertical tabs",className:"".concat(n," lightGrey blackFont flexContents"),orientation:"vertical",indicatorColor:"primary",variant:"scrollable",children:[Object(s.jsx)(xt.a,{label:"Senders",id:"vertical-tab-0","aria-controls":"vertical-tabpanel-0"}),Object(s.jsx)(xt.a,{label:"Receivers",id:"vertical-tab-1","aria-controls":"vertical-tabpanel-1"})]})})}}]),n}(o.a.Component),yt=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={senders:[],receivers:[],value:0},a.handleValueChange=a.handleValueChange.bind(Object(G.a)(a)),a.handleSendersChange=a.handleSendersChange.bind(Object(G.a)(a)),a.handleReceiversChange=a.handleReceiversChange.bind(Object(G.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){var e=this.props.dataSource;e.getSenders(this.handleSendersChange),e.getReceivers(this.handleReceiversChange)}},{key:"handleValueChange",value:function(e){this.setState({value:e})}},{key:"handleSendersChange",value:function(e){this.setState({senders:e})}},{key:"handleReceiversChange",value:function(e){this.setState({receivers:e})}},{key:"render",value:function(){var e=this.state,t=e.receivers,n=e.senders,a=e.value,r=this.props.classes;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(k.a,{style:{display:"flex",flexGrow:1},children:[Object(s.jsx)(St,{value:a,setValue:this.handleValueChange,classes:r}),Object(s.jsx)(Ge,{value:a,index:0,className:"lightGreyBorder",children:Object(s.jsx)(ft,{devices:n,title:"List of Senders"})}),Object(s.jsx)(Ge,{value:a,index:1,className:"lightGreyBorder",children:Object(s.jsx)(ft,{devices:t,title:"List of Receivers"})})]})})}}]),n}(o.a.Component);function Ct(){return Object(v.a)((function(e){return{root:{backgroundColor:e.palette.background.paper},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}}))}function wt(e){var t=e.dataSource;return Object(s.jsx)(_,{title:"My Devices",breadcrumbs:[["Home","/Home"],["My Devices","/Devices"]],deviceList:!0,children:Object(s.jsx)(yt,{classes:i,dataSource:t})})}function kt(e){var t=e.streamDataSource;return Object(s.jsx)(_,{title:"Active Streams",breadcrumbs:[["Home","/Home"],["Active Streams","/Streaming"]],children:Object(s.jsx)(_e,{dataSource:t})})}function Dt(e){var t=e.value,n=e.index,a=e.children;return Object(s.jsx)("div",{role:"tabpanel",hidden:t!==n,id:"full-width-tabpanel-".concat(n),"aria-labelledby":"full-width-tab-".concat(n),children:t===n&&Object(s.jsx)(k.a,{p:0,children:a})})}function Nt(e){return{toolbar:!0,showTitle:!1,search:!0,exportButton:!0,headerStyle:{backgroundColor:"#f1f1f1",fontWeight:"bold"},filtering:!1,draggable:!1,maxBodyHeight:e,minBodyHeight:e}}function Et(e){var t=e.logs,n=e.bodyHeight,a=e.title;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(k.a,{children:[Object(s.jsx)(U.a,{children:Object(s.jsx)($.a,{title:a,columns:[{title:"ID",field:"id",cellStyle:{width:"10%"}},{title:"Date",field:"dateTime",cellStyle:{width:"15%"}},{title:"Level",field:"level",cellStyle:{width:"10%"}},{title:"Message",field:"message",sorting:!1}],data:t,options:Nt(n),icons:{Search:Ze.a,ResetSearch:ze.a,SortArrow:z.a,Export:qe.a,FirstPage:q.a,LastPage:J.a,NextPage:Q.a,PreviousPage:X.a}})}),Object(s.jsx)("div",{className:"textAlignRightPadded",children:"Time Zone: ".concat(Intl.DateTimeFormat().resolvedOptions().timeZone)})]})})}function Pt(e){return Rt.apply(this,arguments)}function Rt(){return(Rt=Object(be.a)(je.a.mark((function e(t){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oe.a.get(t).then((function(e){return Promise.resolve(e.data.map((function(e){return new Ie(e.id,e.dateTime,e.level,e.message)})))})).catch((function(){return new Promise((function(e){Fe(e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function It(){return At.apply(this,arguments)}function At(){return(At=Object(be.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pt("https://bean-pod-switchboard.herokuapp.com/logs"));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Tt(e){return Lt.apply(this,arguments)}function Lt(){return(Lt=Object(be.a)(je.a.mark((function e(t){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Pt("".concat("https://bean-pod-switchboard.herokuapp.com/logs","/").concat(t)));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Et.defaultProps={bodyHeight:"auto",title:"Logs"};var Ft=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={logs:[]},a.device=e.device,a.handleLogsChange=a.handleLogsChange.bind(Object(G.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){Tt(this.device.serialNumber).then(this.handleLogsChange)}},{key:"handleLogsChange",value:function(e){this.setState({logs:e})}},{key:"render",value:function(){var e=this.state.logs;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(w.a,{component:V.a,children:Object(s.jsx)(Et,{title:"".concat(this.device.serialNumber," Logs"),logs:e,bodyHeight:"35vh"})})})}}]),n}(o.a.Component);function _t(e){var t=e.extras;return Object(s.jsx)(w.a,{component:V.a,children:t})}var Bt=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(){return Object(b.a)(this,n),t.apply(this,arguments)}return Object(m.a)(n,[{key:"render",value:function(){var e=this.props,t=e.name,a=e.value;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(Ye.a,{children:[Object(s.jsx)($e.a,{children:n.getPropertyDisplayName(t)}),Object(s.jsx)($e.a,{align:"center",children:n.createTableCellContents(t,a)})]})})}}],[{key:"getPropertyDisplayName",value:function(e){switch(e){case"serialNumber":return"Serial Number";case"lastCommunication":return"Last Communication";case"privateIp":return"Private IP Address";case"publicIp":return"Public IP Address";case"name":return"Name";case"status":return"Status";case"channels":return"Channels";default:return"Additional Info"}}},{key:"createInnerTable",value:function(e){return Object(s.jsx)(U.a,{children:Object(s.jsx)(nt,{channels:e})})}},{key:"createTableCellContents",value:function(e,t){switch(e){case"channels":return n.createInnerTable(t);case"status":return Object(s.jsx)(ee,{status:t});default:return t}}}]),n}(o.a.Component);function Ht(e){var t=e.device;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)(U.a,{component:V.a,children:Object(s.jsx)(Je.a,{children:Object(s.jsx)(Xe.a,{children:pe.getConciseProperties().map((function(e){return Object(s.jsx)(Bt,{name:e,value:t[e]},"device_".concat(e))}))})})})})}var Vt=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={value:0},a.handleValueChange=a.handleValueChange.bind(Object(G.a)(a)),a}return Object(m.a)(n,[{key:"handleValueChange",value:function(e,t){this.setState({value:t})}},{key:"render",value:function(){var e=this.state.value,t=this.props,a=t.device,r=t.tabs;return Object(s.jsxs)(w.a,{children:[Object(s.jsx)(gt.a,{value:e,onChange:this.handleValueChange,className:"lightGrey blackFont flexContents",indicatorColor:"primary",textColor:"primary",children:r.map((function(e){return"Overview"===e?Object(s.jsx)(xt.a,{label:e,style:{pointerEvents:"none"}},e):Object(s.jsx)(xt.a,{label:e},e)}))}),r.map((function(t,r){return Object(s.jsx)(Dt,{value:e,index:r,device:a,children:n.getPanelContents(t,a)},t)}))]})}}],[{key:"getPanelContents",value:function(e,t){switch(e){case"Overview":return Object(s.jsx)(Ht,{device:t});case"Activity Log":return Object(s.jsx)(Ft,{device:t});case"Notes":return Object(s.jsx)(_t,{extras:t.extras});default:return Object(s.jsx)("div",{children:"Whoops not a valid value"})}}}]),n}(o.a.Component),Mt=n(328),Wt=n(361),Gt=n.n(Wt),Ut=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).deviceName=e.deviceName,a.deviceId=e.deviceId,a.state={editing:!1,name:a.deviceName},a.startEdit=a.startEdit.bind(Object(G.a)(a)),a.cancelEditing=a.cancelEditing.bind(Object(G.a)(a)),a.confirmEditing=a.confirmEditing.bind(Object(G.a)(a)),a.setName=a.setName.bind(Object(G.a)(a)),a}return Object(m.a)(n,[{key:"setName",value:function(e){this.setState({name:e})}},{key:"startEdit",value:function(){this.setState({editing:!0})}},{key:"cancelEditing",value:function(){this.setState({name:this.deviceName}),this.setState({editing:!1})}},{key:"confirmEditing",value:function(e){var t=this;e.preventDefault();var n=this.state.name;ht(this.deviceId,n).then((function(){t.deviceName=n})),this.setState({editing:!1})}},{key:"renderStaticName",value:function(){var e=this.state.name;return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(k.a,{className:"flexContents",children:[Object(s.jsx)("div",{className:"title",children:e}),Object(s.jsx)(k.a,{padding:4,paddingLeft:1,paddingBottom:0,children:Object(s.jsx)(I.a,{children:Object(s.jsx)(Gt.a,{id:"editBtn",color:"action",onClick:this.startEdit})})})]})})}},{key:"renderEditName",value:function(){var e=this;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("form",{className:"deviceNameEditForm",onSubmit:this.confirmEditing,children:Object(s.jsxs)(k.a,{className:"flexContents",children:[Object(s.jsx)(Mt.a,{id:"deviceName",name:"deviceName",required:!0,defaultValue:this.deviceName,label:"Device Name",onChange:function(t){return e.setName(t.target.value)}}),Object(s.jsx)(k.a,{padding:4,paddingLeft:1,paddingRight:1,children:Object(s.jsx)(I.a,{id:"cancelEditBtn",onClick:this.cancelEditing,variant:"contained",disableElevation:!0,children:"Cancel"})}),Object(s.jsx)(k.a,{padding:4,paddingLeft:0,children:Object(s.jsx)(I.a,{id:"confirmEditBtn",type:"submit",color:"primary",variant:"contained",disableElevation:!0,children:"Save"})})]})})})}},{key:"render",value:function(){var e=this.state.editing;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{children:e?this.renderEditName():this.renderStaticName()})})}}]),n}(o.a.Component);function Kt(e){var t=e.location.state.device;return Object(s.jsxs)(w.a,{children:[Object(s.jsx)(P,{breadcrumbs:[["Home","/"],["My Devices","/Devices"],[t.name,t.id]]}),Object(s.jsx)(k.a,{className:"areaUnderBreadcrumbs",children:Object(s.jsxs)(k.a,{className:"flexContents headerAreaUnderline",children:[Object(s.jsx)(Ut,{deviceName:t.name,deviceId:t.serialNumber}),Object(s.jsx)("div",{className:"alignRightFloat",children:Object(s.jsx)(k.a,{marginRight:2,marginTop:2,children:Object(s.jsx)(Ot,{button:!0,deleteId:t.serialNumber})})})]})}),Object(s.jsxs)(B.a,{container:!0,children:[Object(s.jsx)(B.a,{item:!0,xs:6,children:Object(s.jsx)(Vt,{tabs:["Overview"],device:t})}),Object(s.jsx)(B.a,{item:!0,xs:6,children:Object(s.jsx)(Vt,{tabs:["Activity Log","Notes"],device:t})})]})]})}Kt.defaultProps={location:{state:{device:new pe("1:10:111:999",null,"123:456","Sender 1","Online",Le,"encoder",Ae)}}};var Zt=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={logs:[]},a.logsDataSource=e.logsDataSource,a.handleLogsChange=a.handleLogsChange.bind(Object(G.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.logsDataSource.getAllLogs().then(this.handleLogsChange)}},{key:"handleLogsChange",value:function(e){this.setState({logs:e})}},{key:"render",value:function(){var e=this.state.logs;return Object(s.jsx)(Et,{logs:e})}}]),n}(o.a.Component);function zt(e){var t=e.logsDataSource;return Object(s.jsx)(_,{title:"Logs",breadcrumbs:[["Home","/Home"],["Logs","/Logs"]],children:Object(s.jsx)(Zt,{logsDataSource:t})})}var qt=Object(v.a)((function(){return{title:{color:"#ef5350"}}}));function Jt(e){var t=qt(),n=e.open,a=e.setOpen,r=e.message,i=function(){a(!1)};return Object(s.jsx)(s.Fragment,{children:Object(s.jsxs)(st.a,{open:n,onClose:i,children:[Object(s.jsx)(ie.a,{id:"login-failed-dialog-title",className:t.title,children:"Login Failed"}),Object(s.jsx)(ce.a,{children:Object(s.jsx)(se.a,{id:"login-failed-dialog-description",children:r})}),Object(s.jsx)(oe.a,{children:Object(s.jsx)(I.a,{onClick:i,color:"primary",children:"OK"})})]})})}var Qt=Object(v.a)((function(e){return{paper:{marginTop:e.spacing(8),display:"flex",flexDirection:"column",alignItems:"center"},form:{width:"100%",marginTop:e.spacing(1)},submit:{margin:e.spacing(3,0,2)}}}));function Xt(e){var t=e.handleSubmit,n=Qt(),a=Object(l.useState)(""),r=Object(ct.a)(a,2),i=r[0],c=r[1],o=Object(l.useState)(""),d=Object(ct.a)(o,2),u=d[0],h=d[1];return Object(s.jsx)(w.a,{component:"main",maxWidth:"xs",children:Object(s.jsx)("div",{className:n.paper,children:Object(s.jsxs)("form",{className:n.form,noValidate:!0,onSubmit:function(e){e.preventDefault(),t(i,u)},children:[Object(s.jsx)(Mt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,id:"username",label:"Username",name:"username",autoComplete:"username",autoFocus:!0,onChange:function(e){return c(e.target.value)}}),Object(s.jsx)(Mt.a,{variant:"outlined",margin:"normal",required:!0,fullWidth:!0,name:"password",label:"Password",type:"password",id:"password",autoComplete:"current-password",onChange:function(e){return h(e.target.value)}}),Object(s.jsx)(I.a,{type:"submit",fullWidth:!0,variant:"contained",color:"primary",className:n.submit,children:"Log In"})]})})})}var Yt="An unknown error occurred. Please try again later.",$t="Incorrect username and/or password. Please enter the correct credentials and try again.";function en(){return(en=Object(be.a)(je.a.mark((function e(){return je.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",Oe.a.post("backendUrl/login").then((function(){})).catch((function(e){var t=Yt;return e.response&&"403"===e.response.status&&(t=$t),Promise.reject(new Error(t))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var tn=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={dialogOpen:!1,dialogMessage:""},a.handleSubmit=a.handleSubmit.bind(Object(G.a)(a)),a.setDialogOpen=a.setDialogOpen.bind(Object(G.a)(a)),a.setDialogMessage=a.setDialogMessage.bind(Object(G.a)(a)),a}return Object(m.a)(n,[{key:"handleSubmit",value:function(e,t){var n=this;(function(){return en.apply(this,arguments)})({username:e,password:t}).catch((function(e){n.setState({dialogOpen:!0,dialogMessage:e.message})}))}},{key:"setDialogOpen",value:function(e){this.setState({dialogOpen:e})}},{key:"setDialogMessage",value:function(e){this.setState({dialogMessage:e})}},{key:"render",value:function(){var e=this.state,t=e.dialogOpen,n=e.dialogMessage;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)(Xt,{handleSubmit:this.handleSubmit}),Object(s.jsx)(Jt,{open:t,setOpen:this.setDialogOpen,message:n})]})}}]),n}(o.a.Component);var nn=n(470),an=n(208),rn=n(332),cn=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).classes=Object(v.a)((function(e){return{search:Object(an.a)({position:"relative",right:0,marginLeft:0},e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),searchIcon:{padding:e.spacing(0,2),height:"100%",position:"absolute",pointerEvents:"none",alignItems:"left",justifyContent:"center"},inputRoot:{color:"inherit"}}})),a}return Object(m.a)(n,[{key:"render",value:function(){return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("div",{className:"searchField",children:Object(s.jsx)(Mt.a,{placeholder:"Search",InputProps:{"aria-label":"search",startAdornment:Object(s.jsxs)(rn.a,{position:"start",children:[" ",Object(s.jsx)(Ze.a,{})]})},size:"small",variant:"outlined"})})})}}]),n}(o.a.Component),sn=n(464),ln=n(334),on=n(497),dn=n(249),un=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={open:!1},a.onClick=a.onClick.bind(Object(G.a)(a)),a}return Object(m.a)(n,[{key:"onClick",value:function(){this.setState((function(e){return{open:!e.open}}))}},{key:"render",value:function(){var e=this.props,t=e.deviceDetails,n=t.channels,a=t.name,r=e.onChange,i=this.state.open;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsxs)(sn.a,{button:!0,dense:!0,onClick:this.onClick,children:[Object(s.jsx)(ln.a,{primary:a}),i?Object(s.jsx)(Z.a,{}):Object(s.jsx)(K.a,{})]}),Object(s.jsx)(on.a,{in:i,timeout:"auto",unmountOnExit:!0,children:Object(s.jsx)(nn.a,{component:"div",disablePadding:!0,style:{width:"96%"},children:Object(s.jsxs)(sn.a,{divider:!0,children:[Object(s.jsx)(ln.a,{secondary:"Select Channel"}),Object(s.jsx)(dn.a,{defaultValue:"",onChange:r,children:n.map((function(e){return Object(s.jsx)(rt.a,{value:e.id,children:e.port},"".concat(a,"_").concat(e.id))}))})]})})})]})}}]),n}(o.a.Component);function hn(e){var t=e.dataSource,n=e.name,a=e.onChange;return Object(s.jsxs)(s.Fragment,{children:[Object(s.jsx)("div",{className:"subtitle",children:n}),Object(s.jsx)(cn,{}),Object(s.jsx)("div",{style:{maxHeight:"300px",overflow:"auto"},children:Object(s.jsx)(nn.a,{children:t.map((function(e){return Object(s.jsx)(un,{deviceDetails:e,onChange:a},e.serialNumber)}))})})]})}var jn=function(e){Object(O.a)(n,e);var t=Object(p.a)(n);function n(e){var a;return Object(b.a)(this,n),(a=t.call(this,e)).state={senders:[],receivers:[],selectedSenderID:"",selectedReceiverID:""},a.dataSource=e.dataSource,a.handleSendersChange=a.handleSendersChange.bind(Object(G.a)(a)),a.handleReceiversChange=a.handleReceiversChange.bind(Object(G.a)(a)),a.onSenderSelected=a.onSenderSelected.bind(Object(G.a)(a)),a.onReceiverSelected=a.onReceiverSelected.bind(Object(G.a)(a)),a.handleSubmit=a.handleSubmit.bind(Object(G.a)(a)),a}return Object(m.a)(n,[{key:"componentDidMount",value:function(){this.dataSource.getSenders(this.handleSendersChange),this.dataSource.getReceivers(this.handleReceiversChange)}},{key:"handleSendersChange",value:function(e){this.setState({senders:e})}},{key:"handleReceiversChange",value:function(e){this.setState({receivers:e})}},{key:"handleSubmit",value:function(e){var t=this.state,n=t.selectedReceiverID,a=t.selectedSenderID;""!==n&&""!==a&&Oe.a.post("https://bean-pod-switchboard.herokuapp.com/stream",{inputChannelId:n,outputChannelId:a}),e.preventDefault()}},{key:"onSenderSelected",value:function(e){this.setState({selectedSenderID:e.target.value})}},{key:"onReceiverSelected",value:function(e){this.setState({selectedReceiverID:e.target.value})}},{key:"render",value:function(){var e=this.state,t=e.receivers,n=e.senders;return Object(s.jsx)(s.Fragment,{children:Object(s.jsx)("form",{onSubmit:this.handleSubmit,id:"createStreamForm",children:Object(s.jsxs)(B.a,{container:!0,spacing:2,alignContent:"center",alignItems:"center",justify:"center",children:[Object(s.jsx)(B.a,{item:!0,xs:3,children:Object(s.jsx)("div",{className:"streamingTable",id:"SenderTable",children:Object(s.jsx)(hn,{name:"Sender Devices",dataSource:n,onChange:this.onSenderSelected})})}),Object(s.jsx)(B.a,{container:!0,item:!0,xs:2,id:"TableStartStreamingBtn",justify:"center",alignContent:"center",alignItems:"center",display:"flex",children:Object(s.jsx)(T,{id:"StreamingStreamBtn",type:"submit"})}),Object(s.jsx)(B.a,{item:!0,xs:3,children:Object(s.jsx)("div",{className:"streamingTable",id:"ReceiverTable",children:Object(s.jsx)(hn,{name:"Receiver Devices",dataSource:t,onChange:this.onReceiverSelected})})})]})})})}}]),n}(o.a.Component);function bn(e){var t=e.dataSource;return Object(s.jsx)(_,{title:"Create a Stream",breadcrumbs:[["Home","/Home"],["My Streams","/Streaming"],["New Stream","/Streaming/New"]],children:Object(s.jsx)(jn,{dataSource:t})})}u.a.render(Object(s.jsx)(o.a.StrictMode,{children:Object(s.jsxs)(h.a,{children:[Object(s.jsx)(C,{}),Object(s.jsxs)(j.c,{children:[Object(s.jsx)(j.a,{exact:!0,path:["/","/Home"],component:function(){return Object(s.jsx)(_,{title:"Dashboard",breadcrumbs:[["Home",""]],children:Object(s.jsx)(We,{})})}}),Object(s.jsx)(j.a,{exact:!0,path:"/Devices",render:function(){return Object(s.jsx)(wt,{dataSource:r})}}),Object(s.jsx)(j.a,{exact:!0,path:"/Streaming",render:function(){return Object(s.jsx)(kt,{streamDataSource:a})}}),Object(s.jsx)(j.a,{exact:!0,path:"/Streaming/New",render:function(){return Object(s.jsx)(bn,{dataSource:r})}}),Object(s.jsx)(j.a,{exact:!0,path:"/Devices/Details/:deviceId",component:Kt}),Object(s.jsx)(j.a,{exact:!0,path:"/Logs",render:function(){return Object(s.jsx)(zt,{logsDataSource:c})}}),Object(s.jsx)(j.a,{exact:!0,path:"/Login",component:function(){return Object(s.jsx)(_,{title:"Login",breadcrumbs:[],login:!0,children:Object(s.jsx)(tn,{})})}})]})]})}),document.getElementById("root"))}},[[461,1,2]]]);
//# sourceMappingURL=main.ec4930b8.chunk.js.map